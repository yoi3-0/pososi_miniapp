{"version":3,"sources":["../../src/hooks/useTimeout.ts"],"names":["useCallback","useEffect","useRef","useIsomorphicLayoutEffect","canUseDOM","useTimeout","cb","duration","options","current","timeout","clear","clearTimeout","set","setTimeout"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,MAAjC,QAA+C,OAA/C;AACA,SAASC,yBAAT;AACA,SAASC,SAAT;AAEA,OAAO,SAASC,UAAT,CAAoBC,EAApB,EAAmCC,QAAnC,EAAqD;AAC1D,MAAMC,OAAO,GAAGN,MAAM,CAAC;AAAEI,IAAAA,EAAE,EAAFA,EAAF;AAAMC,IAAAA,QAAQ,EAARA;AAAN,GAAD,CAAtB;AACAJ,EAAAA,yBAAyB,CAAC,YAAM;AAC9BK,IAAAA,OAAO,CAACC,OAAR,CAAgBH,EAAhB,GAAqBA,EAArB;AACAE,IAAAA,OAAO,CAACC,OAAR,CAAgBF,QAAhB,GAA2BA,QAA3B;AACD,GAHwB,EAGtB,CAACD,EAAD,EAAKC,QAAL,CAHsB,CAAzB;AAKA,MAAMG,OAAO,GAAGR,MAAM,EAAtB;AACA,MAAMS,KAAK,GAAGX,WAAW,CAAC;AAAA,WAAMI,SAAS,IAAIQ,YAAY,CAACF,OAAO,CAACD,OAAT,CAA/B;AAAA,GAAD,EAAmD,EAAnD,CAAzB;AACA,MAAMI,GAAG,GAAGb,WAAW,CAAC,YAAM;AAC5BW,IAAAA,KAAK;;AACL,QAAIP,SAAJ,EAAe;AACbM,MAAAA,OAAO,CAACD,OAAR,GAAkBK,UAAU,CAAC,YAAM;AAAA,YACzBR,EADyB,GAClBE,OAAO,CAACC,OADU,CACzBH,EADyB;AAEjC,eAAOA,EAAP,KAAc,UAAd,IAA4BA,EAAE,EAA9B;AACD,OAH2B,EAGzBE,OAAO,CAACC,OAAR,CAAgBF,QAHS,CAA5B;AAID;AACF,GARsB,EAQpB,EARoB,CAAvB;AASAN,EAAAA,SAAS,CAAC;AAAA,WAAMU,KAAN;AAAA,GAAD,EAAc,EAAd,CAAT;AAEA,SAAO;AAAEE,IAAAA,GAAG,EAAHA,GAAF;AAAOF,IAAAA,KAAK,EAALA;AAAP,GAAP;AACD","sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { canUseDOM } from '../lib/dom';\n\nexport function useTimeout(cb: () => any, duration: number) {\n  const options = useRef({ cb, duration });\n  useIsomorphicLayoutEffect(() => {\n    options.current.cb = cb;\n    options.current.duration = duration;\n  }, [cb, duration]);\n\n  const timeout = useRef<ReturnType<typeof setTimeout>>();\n  const clear = useCallback(() => canUseDOM && clearTimeout(timeout.current), []);\n  const set = useCallback(() => {\n    clear();\n    if (canUseDOM) {\n      timeout.current = setTimeout(() => {\n        const { cb } = options.current;\n        typeof cb === 'function' && cb();\n      }, options.current.duration);\n    }\n  }, []);\n  useEffect(() => clear, []);\n\n  return { set, clear };\n}\n"],"file":"useTimeout.js"}