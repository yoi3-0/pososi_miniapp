{"version":3,"sources":["../../src/hooks/useEnsuredControl.ts"],"names":["useState","useCallback","useEnsuredControl","props","options","isControlled","hasOwnProperty","defaultValue","localValue","setLocalValue","onChange","e","target","value"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AAEA,OAAO,SAASC,iBAAT,CACLC,KADK,EAELC,OAFK,EAGe;AACpB,MAAMC,YAAY,GAAGF,KAAK,CAACG,cAAN,CAAqB,OAArB,CAArB;;AADoB,kBAEgBN,QAAQ,CAACI,OAAO,CAACG,YAAT,CAFxB;AAAA;AAAA,MAEbC,UAFa;AAAA,MAEDC,aAFC;;AAGpB,MAAMC,QAAQ,GAAGT,WAAW,CAAC,UAACU,CAAD,EAAO;AAClC,KAACN,YAAD,IAAiBI,aAAa,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAA9B;AACAV,IAAAA,KAAK,CAACO,QAAN,IAAkBP,KAAK,CAACO,QAAN,CAAeC,CAAf,CAAlB;AACD,GAH2B,EAGzB,CAACR,KAAK,CAACO,QAAP,CAHyB,CAA5B;AAIA,SAAO,CAACL,YAAY,GAAGF,KAAK,CAACU,KAAT,GAAiBL,UAA9B,EAA0CE,QAA1C,CAAP;AACD","sourcesContent":["import { useState, useCallback } from 'react';\n\nexport function useEnsuredControl<V, E>(\n  props: { value?: V; onChange?: (e: E) => any },\n  options: { defaultValue: V },\n): [V, (e: E) => any] {\n  const isControlled = props.hasOwnProperty('value');\n  const [localValue, setLocalValue] = useState(options.defaultValue);\n  const onChange = useCallback((e) => {\n    !isControlled && setLocalValue(e.target.value);\n    props.onChange && props.onChange(e);\n  }, [props.onChange]);\n  return [isControlled ? props.value : localValue, onChange];\n}\n"],"file":"useEnsuredControl.js"}