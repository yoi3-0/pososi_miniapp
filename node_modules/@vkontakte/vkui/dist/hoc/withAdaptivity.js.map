{"version":3,"sources":["../../src/hoc/withAdaptivity.tsx"],"names":["useContext","AdaptivityContext","SizeType","ViewHeight","ViewWidth","withAdaptivity","TargetComponent","config","AdaptivityConsumer","props","context","update","sizeX","sizeY","viewWidth","viewHeight","hasMouse","adaptivityProps","undefined","target"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,iBAAT,EAA4BC,QAA5B,EAAsCC,UAAtC,EAAkDC,SAAlD;AAUA,SAASF,QAAT,EAAmBE,SAAnB,EAA8BD,UAA9B;AAEA,OAAO,SAASE,cAAT,CAA2BC,eAA3B,EAA+CC,MAA/C,EAAkE;AACvE,WAASC,kBAAT,CAA4BC,KAA5B,EAAoD;AAClD,QAAMC,OAAO,GAAGV,UAAU,CAACC,iBAAD,CAA1B;AACA,QAAIU,MAAM,GAAG,KAAb;;AAEA,QAAIF,KAAK,CAACG,KAAN,IAAeH,KAAK,CAACI,KAAzB,EAAgC;AAC9BF,MAAAA,MAAM,GAAG,IAAT;AACD;;AAED,QAAMC,KAAK,GAAGH,KAAK,CAACG,KAAN,IAAeF,OAAO,CAACE,KAArC;AACA,QAAMC,KAAK,GAAGJ,KAAK,CAACI,KAAN,IAAeH,OAAO,CAACG,KAArC;AACA,QAAMC,SAAS,GAAGJ,OAAO,CAACI,SAA1B;AACA,QAAMC,UAAU,GAAGL,OAAO,CAACK,UAA3B;AACA,QAAMC,QAAQ,GAAGN,OAAO,CAACM,QAAzB;AAEA,QAAMC,eAML,GAAG,EANJ;AAOAV,IAAAA,MAAM,CAACK,KAAP,GAAeK,eAAe,CAACL,KAAhB,GAAwBA,KAAvC,GAA+CM,SAA/C;AACAX,IAAAA,MAAM,CAACM,KAAP,GAAeI,eAAe,CAACJ,KAAhB,GAAwBA,KAAvC,GAA+CK,SAA/C;AACAX,IAAAA,MAAM,CAACO,SAAP,GAAmBG,eAAe,CAACH,SAAhB,GAA4BA,SAA/C,GAA2DI,SAA3D;AACAX,IAAAA,MAAM,CAACQ,UAAP,GAAoBE,eAAe,CAACF,UAAhB,GAA6BA,UAAjD,GAA8DG,SAA9D;AACAX,IAAAA,MAAM,CAACS,QAAP,GAAkBC,eAAe,CAACD,QAAhB,GAA2BA,QAA7C,GAAwDE,SAAxD,CAzBkD,CA2BlD;;AACA,QAAMC,MAAM,GAAG,oBAAC,eAAD,eAAqBV,KAArB,EAAgCQ,eAAhC,EAAf;;AAEA,QAAIN,MAAJ,EAAY;AACV,aAAO,oBAAC,iBAAD,CAAmB,QAAnB;AAA4B,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAALA,KAAF;AAASC,UAAAA,KAAK,EAALA,KAAT;AAAgBC,UAAAA,SAAS,EAATA,SAAhB;AAA2BC,UAAAA,UAAU,EAAVA,UAA3B;AAAuCC,UAAAA,QAAQ,EAARA;AAAvC;AAAnC,SACJG,MADI,CAAP;AAGD;;AAED,WAAOA,MAAP;AACD;;AAED,SAAOX,kBAAP;AACD","sourcesContent":["import { useContext } from 'react';\nimport { AdaptivityContext, SizeType, ViewHeight, ViewWidth } from '../components/AdaptivityProvider/AdaptivityContext';\n\ninterface Config {\n  sizeX?: boolean;\n  sizeY?: boolean;\n  viewWidth?: boolean;\n  viewHeight?: boolean;\n  hasMouse?: boolean;\n}\n\nexport { SizeType, ViewWidth, ViewHeight };\n\nexport function withAdaptivity<T>(TargetComponent: T, config: Config): T {\n  function AdaptivityConsumer(props: AdaptivityProps) {\n    const context = useContext(AdaptivityContext);\n    let update = false;\n\n    if (props.sizeX || props.sizeY) {\n      update = true;\n    }\n\n    const sizeX = props.sizeX || context.sizeX;\n    const sizeY = props.sizeY || context.sizeY;\n    const viewWidth = context.viewWidth;\n    const viewHeight = context.viewHeight;\n    const hasMouse = context.hasMouse;\n\n    const adaptivityProps: {\n      sizeX?: SizeType;\n      sizeY?: SizeType;\n      viewWidth?: ViewWidth;\n      viewHeight?: ViewHeight;\n      hasMouse?: boolean;\n    } = {};\n    config.sizeX ? adaptivityProps.sizeX = sizeX : undefined;\n    config.sizeY ? adaptivityProps.sizeY = sizeY : undefined;\n    config.viewWidth ? adaptivityProps.viewWidth = viewWidth : undefined;\n    config.viewHeight ? adaptivityProps.viewHeight = viewHeight : undefined;\n    config.hasMouse ? adaptivityProps.hasMouse = hasMouse : undefined;\n\n    // @ts-ignore\n    const target = <TargetComponent {...props} {...adaptivityProps} />;\n\n    if (update) {\n      return <AdaptivityContext.Provider value={{ sizeX, sizeY, viewWidth, viewHeight, hasMouse }}>\n        {target}\n      </AdaptivityContext.Provider>;\n    }\n\n    return target;\n  }\n\n  return AdaptivityConsumer as unknown as T;\n}\n\nexport interface AdaptivityProps {\n  sizeX?: SizeType;\n  sizeY?: SizeType;\n  /**\n   * @ignore\n   */\n  viewWidth?: ViewWidth;\n  /**\n   * @ignore\n   */\n  viewHeight?: ViewHeight;\n  /**\n   * @ignore\n   */\n  hasMouse?: boolean;\n}\n"],"file":"withAdaptivity.js"}