{"version":3,"sources":["../../../src/components/Banner/Banner.tsx"],"names":["Children","getClassName","classNames","usePlatform","ANDROID","IOS","VKCOM","Icon24Chevron","Icon24DismissSubstract","Icon24DismissDark","Icon24Cancel","Tappable","IconButton","Headline","Caption","Text","hasReactNode","Title","BannerHeader","size","restProps","BannerSubheader","Banner","props","platform","mode","imageTheme","before","asideMode","header","subheader","text","children","background","actions","onDismiss","dismissLabel","count","defaultProps"],"mappings":"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","sourcesContent":["import { Children, FC, ReactNode, HTMLAttributes, MouseEventHandler, ElementType } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { ANDROID, IOS, VKCOM } from '../../lib/platform';\nimport { Icon24Chevron, Icon24DismissSubstract, Icon24DismissDark, Icon24Cancel } from '@vkontakte/icons';\nimport Tappable from '../Tappable/Tappable';\nimport IconButton from '../IconButton/IconButton';\nimport Headline from '../Typography/Headline/Headline';\nimport Caption from '../Typography/Caption/Caption';\nimport Text from '../Typography/Text/Text';\nimport { hasReactNode } from '../../lib/utils';\nimport Title from '../Typography/Title/Title';\n\nexport interface BannerProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * Тип баннера.\n   */\n  mode?: 'tint' | 'image';\n  size?: 's' | 'm';\n  /**\n   * Тип действия в правой части баннера.\n   *\n   * - `dismiss` – отображается иконка крестика, при клике на неё сработает свойство `onDismiss`.\n   * - `expand` – отображается иконка шеврона, которая подразумевает, что при клике на баннер можно куда-то перейти.\n   */\n  asideMode?: 'dismiss' | 'expand';\n  /**\n   * Срабатывает при клике на иконку крестика при `asideMode=\"dismiss\"`.\n   */\n  onDismiss?: MouseEventHandler<HTMLButtonElement>;\n  /**\n   * `aria-label` для кнопки при `asideMode=\"dismiss\". Необходим, чтобы кнопка была доступной.\n   */\n  dismissLabel?: string;\n  /**\n   * Содержимое, отображаемое в левой части баннера.\n   */\n  before?: ReactNode;\n  /**\n   * Заголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  header?: ReactNode;\n  /**\n   * Подзаголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  subheader?: ReactNode;\n  /**\n   * Текст баннера. <br />\n   * Это свойство следует использовать без указания `header` и `subheader`.\n   */\n  text?: ReactNode;\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * - `light` – в качестве фона используется светлое изображение, цвет текста в баннере будет тёмным.\n   * - `dark` – в качестве фона используется тёмное изображение, цвет текста будет светлым.\n   */\n  imageTheme?: 'light' | 'dark';\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * Элемент, который нужно стилизовать цветом и/или фоном. Этот элемент будет растянут на 100% ширины и высоты баннера.\n   */\n  background?: ReactNode;\n  /**\n   * Кнопки, отображаемые в баннере.\n   *\n   * - В режиме `tint` или в `image` со светлым фоном рекомендуется использовать только `<Button mode=\"primary\" />` или `<Button mode=\"tertiary\" hasHover={false} />`.\n   * - В режиме `image` с тёмным фоном – `<Button mode=\"overlay_primary\" />`.\n   */\n  actions?: ReactNode;\n}\n\ninterface BannerTypographyProps extends Pick<BannerProps, 'size'> {\n  Component?: ElementType;\n}\n\nconst BannerHeader: FC<BannerTypographyProps> = ({ size, ...restProps }: BannerTypographyProps) => {\n  return size === 'm'\n    ? <Title level=\"2\" weight=\"medium\" {...restProps} />\n    : <Headline weight=\"medium\" {...restProps} />;\n};\n\nconst BannerSubheader: FC<BannerTypographyProps> = ({ size, ...restProps }: BannerTypographyProps) => {\n  return size === 'm'\n    ? <Text weight=\"regular\" {...restProps} />\n    : <Caption level=\"1\" weight=\"regular\" {...restProps} />;\n};\n\nconst Banner: FC<BannerProps> = (props: BannerProps) => {\n  const platform = usePlatform();\n  const {\n    mode, imageTheme, size, before, asideMode, header, subheader, text, children, background, actions,\n    onDismiss, dismissLabel,\n    ...restProps\n  } = props;\n\n  return (\n    <section\n      {...restProps}\n      vkuiClass={classNames(\n        getClassName('Banner', platform),\n        `Banner--md-${mode}`,\n        `Banner--sz-${size}`,\n        {\n          'Banner--inverted': mode === 'image' && imageTheme === 'dark',\n        },\n      )}\n    >\n      <Tappable\n        Component=\"div\"\n        vkuiClass=\"Banner__in\"\n        activeMode={platform === IOS ? 'opacity' : 'background'}\n        disabled={asideMode !== 'expand'}\n        role={asideMode === 'expand' ? 'button' : null}\n      >\n        {mode === 'image' && background &&\n          <div aria-hidden=\"true\" vkuiClass=\"Banner__bg\">\n            {background}\n          </div>\n        }\n\n        {before && <div vkuiClass=\"Banner__before\">{before}</div>}\n\n        <div vkuiClass=\"Banner__content\">\n          {hasReactNode(header) && (\n            <BannerHeader size={size} Component=\"h2\" vkuiClass=\"Banner__header\">{header}</BannerHeader>\n          )}\n          {hasReactNode(subheader) && (\n            <BannerSubheader size={size} vkuiClass=\"Banner__subheader\">{subheader}</BannerSubheader>\n          )}\n          {hasReactNode(text) && <Text weight=\"regular\" vkuiClass=\"Banner__text\">{text}</Text>}\n          {hasReactNode(actions) && Children.count(actions) > 0 && (\n            <div vkuiClass=\"Banner__actions\">{actions}</div>\n          )}\n        </div>\n\n        {!!asideMode && (\n          <div vkuiClass={`Banner__aside Banner__aside--${asideMode}`}>\n            {asideMode === 'expand' && <Icon24Chevron />}\n\n            {asideMode === 'dismiss' &&\n              <IconButton\n                aria-label={dismissLabel}\n                vkuiClass=\"Banner__dismiss\"\n                onClick={onDismiss}\n                hoverMode=\"opacity\"\n                hasActive={false}\n              >\n                {(platform === ANDROID || platform === VKCOM) && <Icon24Cancel />}\n                {platform === IOS && (mode === 'image' ? <Icon24DismissDark /> : <Icon24DismissSubstract />)}\n              </IconButton>\n            }\n          </div>\n        )}\n      </Tappable>\n    </section>\n  );\n};\n\nBanner.defaultProps = {\n  dismissLabel: 'Скрыть',\n  mode: 'tint',\n  size: 's',\n  imageTheme: 'dark',\n};\n\nexport default Banner;\n"],"file":"Banner.js"}