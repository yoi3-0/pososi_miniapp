{"version":3,"sources":["../../../src/components/PullToRefresh/PullToRefreshSpinner.tsx"],"names":["React","classNames","calcStrokeDashOffset","value","radius","progress","Math","PI","PullToRefreshSpinner","on","size","strokeWidth","style","restProps","dasharray","circleCenter","dashoffset","undefined","width","height","transformOrigin","defaultProps","memo"],"mappings":";;AAAA,OAAOA,KAAP,MAAyD,OAAzD;AACA,SAASC,UAAT;;AAEA,SAASC,oBAAT,CAA8BC,KAA9B,EAA6CC,MAA7C,EAA6D;AAC3D,MAAMC,QAAQ,GAAGF,KAAK,GAAG,GAAzB;AACA,SAAO,IAAIG,IAAI,CAACC,EAAT,GAAcH,MAAd,IAAwB,IAAIC,QAA5B,CAAP;AACD;;AAUD,IAAMG,oBAAkE,GAAG,SAArEA,oBAAqE,OAO1C;AAAA,MAN/BC,EAM+B,QAN/BA,EAM+B;AAAA,MAL/BJ,QAK+B,QAL/BA,QAK+B;AAAA,MAJ/BK,IAI+B,QAJ/BA,IAI+B;AAAA,MAH/BC,WAG+B,QAH/BA,WAG+B;AAAA,MAF/BC,KAE+B,QAF/BA,KAE+B;AAAA,MAD5BC,SAC4B;;AAC/B,MAAMT,MAAM,GAAG,MAAMM,IAAN,GAAa,MAAMC,WAAlC;AACA,MAAMG,SAAS,GAAG,IAAIR,IAAI,CAACC,EAAT,GAAcH,MAAhC;AACA,MAAMW,YAAY,GAAG,MAAML,IAA3B;AAEA,MAAMM,UAAU,GAAGd,oBAAoB,CAACO,EAAE,GAAG,EAAH,GAAQJ,QAAX,EAAqBD,MAArB,CAAvC;AAEA,SACE;AACE,IAAA,SAAS,EAAEH,UAAU,CAAC,wBAAD,EAA2B;AAC9C,oCAA8BQ;AADgB,KAA3B,CADvB;AAIE,IAAA,KAAK,EAAEG,KAJT;AAKE,kBAAYH,EAAE,GAAGI,SAAS,CAAC,YAAD,CAAZ,GAA6BI;AAL7C,KAOE;AACE,IAAA,IAAI,EAAC,cADP;AAEE,IAAA,SAAS,EAAC,6BAFZ;AAGE,IAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAER,IADF;AAELS,MAAAA,MAAM,EAAET;AAFH,KAHT;AAOE,IAAA,OAAO,gBAASA,IAAT,cAAiBA,IAAjB,CAPT;AAQE,IAAA,KAAK,EAAC;AARR,KAUE;AACE,IAAA,KAAK,EAAE;AACLQ,MAAAA,KAAK,EAAER,IADF;AAELS,MAAAA,MAAM,EAAET,IAFH;AAGLU,MAAAA,eAAe,YAAKL,YAAL,gBAAuBA,YAAvB;AAHV;AADT,KAOE;AACE,IAAA,SAAS,EAAC,6BADZ;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,eAAe,EAAED,SAHnB;AAIE,IAAA,gBAAgB,EAAEE,UAJpB;AAKE,IAAA,WAAW,EAAEL,WALf;AAME,IAAA,aAAa,EAAC,OANhB;AAOE,IAAA,EAAE,EAAEI,YAPN;AAQE,IAAA,EAAE,EAAEA,YARN;AASE,IAAA,CAAC,EAAEX;AATL,IAPF,CAVF,CAPF,CADF;AAwCD,CAtDD;;AAwDAI,oBAAoB,CAACa,YAArB,GAAoC;AAClC,UAAQ,EAD0B;AAElC,iBAAe,GAFmB;AAGlC,QAAM,IAH4B;AAIlC,cAAY,IAJsB;AAKlC,gBAAc;AALoB,CAApC;AAQA,4BAAerB,KAAK,CAACsB,IAAN,CAAWd,oBAAX,CAAf","sourcesContent":["import React, { FunctionComponent, HTMLAttributes } from 'react';\nimport { classNames } from '../../lib/classNames';\n\nfunction calcStrokeDashOffset(value: number, radius: number) {\n  const progress = value / 100;\n  return 2 * Math.PI * radius * (1 - progress);\n}\n\nexport interface PullToRefreshSpinnerProps extends HTMLAttributes<HTMLDivElement> {\n  size?: number;\n  strokeWidth?: number;\n  on?: boolean;\n  progress?: number;\n  'aria-label'?: string;\n}\n\nconst PullToRefreshSpinner: FunctionComponent<PullToRefreshSpinnerProps> = ({\n  on,\n  progress,\n  size,\n  strokeWidth,\n  style,\n  ...restProps\n}: PullToRefreshSpinnerProps) => {\n  const radius = 0.5 * size - 0.5 * strokeWidth;\n  const dasharray = 2 * Math.PI * radius;\n  const circleCenter = 0.5 * size;\n\n  const dashoffset = calcStrokeDashOffset(on ? 80 : progress, radius);\n\n  return (\n    <div\n      vkuiClass={classNames('PullToRefresh__spinner', {\n        'PullToRefresh__spinner--on': on,\n      })}\n      style={style}\n      aria-label={on ? restProps['aria-label'] : undefined}\n    >\n      <svg\n        role=\"presentation\"\n        vkuiClass=\"PullToRefresh__spinner-self\"\n        style={{\n          width: size,\n          height: size,\n        }}\n        viewBox={`0 0 ${size} ${size}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g\n          style={{\n            width: size,\n            height: size,\n            transformOrigin: `${circleCenter}px ${circleCenter}px`,\n          }}\n        >\n          <circle\n            vkuiClass=\"PullToRefresh__spinner-path\"\n            fill=\"none\"\n            strokeDasharray={dasharray}\n            strokeDashoffset={dashoffset}\n            strokeWidth={strokeWidth}\n            strokeLinecap=\"round\"\n            cx={circleCenter}\n            cy={circleCenter}\n            r={radius}\n          />\n        </g>\n      </svg>\n    </div>\n  );\n};\n\nPullToRefreshSpinner.defaultProps = {\n  'size': 24,\n  'strokeWidth': 2.5,\n  'on': true,\n  'progress': null,\n  'aria-label': 'Пожалуйста, подождите...',\n};\n\nexport default React.memo(PullToRefreshSpinner);\n"],"file":"PullToRefreshSpinner.js"}