{"version":3,"sources":["../../../src/components/AppRoot/ScrollContext.ts"],"names":["createContext","noop","clamp","ScrollContext","getScroll","x","y","scrollTo","globalScrollController","window","document","pageXOffset","pageYOffset","body","scrollWidth","innerWidth","scrollHeight","innerHeight","elementScrollController","elRef","current","scrollLeft","scrollTop","el","clientWidth","clientHeight"],"mappings":"AAAA,SAASA,aAAT,QAAyC,OAAzC;AACA,SAASC,IAAT;AACA,SAASC,KAAT;AAOA,OAAO,IAAMC,aAAa,gBAAGH,aAAa,CAAyB;AACjEI,EAAAA,SAAS,EAAE;AAAA,WAAO;AAAEC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAP;AAAA,GADsD;AAEjEC,EAAAA,QAAQ,EAAEN;AAFuD,CAAzB,CAAnC;AAKP,OAAO,IAAMO,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,MAAD,EAAiBC,QAAjB;AAAA,SAA6C;AACjFN,IAAAA,SAAS,EAAE;AAAA,aAAO;AAAEC,QAAAA,CAAC,EAAEI,MAAM,CAACE,WAAZ;AAAyBL,QAAAA,CAAC,EAAEG,MAAM,CAACG;AAAnC,OAAP;AAAA,KADsE;AAEjFL,IAAAA,QAAQ,EAAE,oBAAkB;AAAA,UAAjBF,CAAiB,uEAAb,CAAa;AAAA,UAAVC,CAAU,uEAAN,CAAM;AAC1B;AACAG,MAAAA,MAAM,CAACF,QAAP,CACEF,CAAC,GAAGH,KAAK,CAACG,CAAD,EAAI,CAAJ,EAAOK,QAAQ,CAACG,IAAT,CAAcC,WAAd,GAA4BL,MAAM,CAACM,UAA1C,CAAR,GAAgE,CADnE,EAEET,CAAC,GAAGJ,KAAK,CAACI,CAAD,EAAI,CAAJ,EAAOI,QAAQ,CAACG,IAAT,CAAcG,YAAd,GAA6BP,MAAM,CAACQ,WAA3C,CAAR,GAAkE,CAFrE;AAGD;AAPgF,GAA7C;AAAA,CAA/B;AAUP,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,KAAD;AAAA,SAAoC;AACzEf,IAAAA,SAAS,EAAE;AAAA,aAAO;AAAEC,QAAAA,CAAC,EAAEc,KAAK,CAACC,OAAN,CAAcC,UAAnB;AAA+Bf,QAAAA,CAAC,EAAEa,KAAK,CAACC,OAAN,CAAcE;AAAhD,OAAP;AAAA,KAD8D;AAEzEf,IAAAA,QAAQ,EAAE,oBAAkB;AAAA,UAAjBF,CAAiB,uEAAb,CAAa;AAAA,UAAVC,CAAU,uEAAN,CAAM;AAC1B,UAAMiB,EAAE,GAAGJ,KAAK,CAACC,OAAjB,CAD0B,CAE1B;;AACAG,MAAAA,EAAE,CAAChB,QAAH,CACEF,CAAC,GAAGH,KAAK,CAACG,CAAD,EAAI,CAAJ,EAAOkB,EAAE,CAACT,WAAH,GAAiBS,EAAE,CAACC,WAA3B,CAAR,GAAkD,CADrD,EAEElB,CAAC,GAAGJ,KAAK,CAACI,CAAD,EAAI,CAAJ,EAAOiB,EAAE,CAACP,YAAH,GAAkBO,EAAE,CAACE,YAA5B,CAAR,GAAoD,CAFvD;AAGD;AARwE,GAApC;AAAA,CAAhC","sourcesContent":["import { createContext, RefObject } from 'react';\nimport { noop } from '../../lib/utils';\nimport { clamp } from '../../helpers/math';\n\nexport interface ScrollContextInterface {\n  getScroll(): { x: number; y: number };\n  scrollTo(x?: number, y?: number): void;\n}\n\nexport const ScrollContext = createContext<ScrollContextInterface>({\n  getScroll: () => ({ x: 0, y: 0 }),\n  scrollTo: noop,\n});\n\nexport const globalScrollController = (window: Window, document: HTMLDocument) => ({\n  getScroll: () => ({ x: window.pageXOffset, y: window.pageYOffset }),\n  scrollTo: (x = 0, y = 0) => {\n    // Some iOS versions do not normalize scroll — do it manually.\n    window.scrollTo(\n      x ? clamp(x, 0, document.body.scrollWidth - window.innerWidth) : 0,\n      y ? clamp(y, 0, document.body.scrollHeight - window.innerHeight) : 0);\n  },\n});\n\nexport const elementScrollController = (elRef: RefObject<HTMLElement>) => ({\n  getScroll: () => ({ x: elRef.current.scrollLeft, y: elRef.current.scrollTop }),\n  scrollTo: (x = 0, y = 0) => {\n    const el = elRef.current;\n    // Some iOS versions do not normalize scroll — do it manually.\n    el.scrollTo(\n      x ? clamp(x, 0, el.scrollWidth - el.clientWidth) : 0,\n      y ? clamp(y, 0, el.scrollHeight - el.clientHeight) : 0);\n  },\n});\n"],"file":"ScrollContext.js"}