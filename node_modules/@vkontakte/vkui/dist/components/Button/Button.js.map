{"version":3,"sources":["../../../src/components/Button/Button.tsx"],"names":["getClassName","classNames","Tappable","Title","Text","Subhead","Caption","usePlatform","SizeType","withAdaptivity","IOS","VKCOM","ButtonTypography","props","size","sizeY","platform","restProps","isCompact","COMPACT","Button","mode","stretched","align","children","before","after","getRootRef","Component","hasIcons","Boolean","href","defaultProps","stopPropagation","hasFocusVisible"],"mappings":";;;;AACA,SAASA,YAAT;AACA,SAASC,UAAT;AACA,OAAOC,QAAP;AACA,OAAOC,KAAP;AACA,OAAOC,IAAP;AACA,OAAOC,OAAP;AACA,OAAOC,OAAP;AAEA,SAASC,WAAT;AACA,SAA0BC,QAA1B,EAAoCC,cAApC;AACA,SAAmBC,GAAnB,EAAwBC,KAAxB;;AAoBA,IAAMC,gBAA2C,GAAG,SAA9CA,gBAA8C,CAACC,KAAD,EAAkC;AAAA,MAC5EC,IAD4E,GACpCD,KADoC,CAC5EC,IAD4E;AAAA,MACtEC,KADsE,GACpCF,KADoC,CACtEE,KADsE;AAAA,MAC/DC,QAD+D,GACpCH,KADoC,CAC/DG,QAD+D;AAAA,MAClDC,SADkD,4BACpCJ,KADoC;;AAEpF,MAAMK,SAAS,GAAGH,KAAK,KAAKP,QAAQ,CAACW,OAArC;;AAEA,UAAQL,IAAR;AACE,SAAK,GAAL;AACE,UAAII,SAAJ,EAAe;AACb,eAAO,oBAAC,IAAD;AAAM,UAAA,MAAM,EAAC;AAAb,WAA0BD,SAA1B,EAAP;AACD;;AAED,aAAO,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAC,GAAb;AAAiB,QAAA,MAAM,EAAC;AAAxB,SAAqCA,SAArC,EAAP;;AACF,SAAK,GAAL;AACE,UAAIC,SAAJ,EAAe;AACb,eAAO,oBAAC,OAAD;AAAS,UAAA,MAAM,EAAEF,QAAQ,KAAKL,KAAb,GAAqB,SAArB,GAAiC;AAAlD,WAAgEM,SAAhE,EAAP;AACD;;AAED,aAAO,oBAAC,IAAD;AAAM,QAAA,MAAM,EAAC;AAAb,SAA0BA,SAA1B,EAAP;;AACF,SAAK,GAAL;AACA;AACE,UAAID,QAAQ,KAAKN,GAAjB,EAAsB;AACpB,eAAO,oBAAC,OAAD;AAAS,UAAA,MAAM,EAAC;AAAhB,WAA6BO,SAA7B,EAAP;AACD;;AAED,UAAID,QAAQ,KAAKL,KAAjB,EAAwB;AACtB,eAAO,oBAAC,OAAD;AAAS,UAAA,KAAK,EAAC,GAAf;AAAmB,UAAA,MAAM,EAAC;AAA1B,WAAwCM,SAAxC,EAAP;AACD;;AAED,UAAIC,SAAJ,EAAe;AACb,eAAO,oBAAC,OAAD;AAAS,UAAA,KAAK,EAAC,GAAf;AAAmB,UAAA,MAAM,EAAC;AAA1B,WAAuCD,SAAvC,EAAP;AACD;;AAED,aAAO,oBAAC,OAAD;AAAS,QAAA,MAAM,EAAC;AAAhB,SAA6BA,SAA7B,EAAP;AA3BJ;AA6BD,CAjCD;;AAmCA,IAAMG,MAAuB,GAAG,SAA1BA,MAA0B,CAACP,KAAD,EAAwB;AAAA;;AACtD,MAAMG,QAAQ,GAAGT,WAAW,EAA5B;;AADsD,MAE9CO,IAF8C,GAEmED,KAFnE,CAE9CC,IAF8C;AAAA,MAExCO,IAFwC,GAEmER,KAFnE,CAExCQ,IAFwC;AAAA,MAElCC,SAFkC,GAEmET,KAFnE,CAElCS,SAFkC;AAAA,MAEvBC,KAFuB,GAEmEV,KAFnE,CAEvBU,KAFuB;AAAA,MAEhBC,QAFgB,GAEmEX,KAFnE,CAEhBW,QAFgB;AAAA,MAENC,MAFM,GAEmEZ,KAFnE,CAENY,MAFM;AAAA,MAEEC,KAFF,GAEmEb,KAFnE,CAEEa,KAFF;AAAA,MAESC,UAFT,GAEmEd,KAFnE,CAESc,UAFT;AAAA,MAEqBZ,KAFrB,GAEmEF,KAFnE,CAEqBE,KAFrB;AAAA,yBAEmEF,KAFnE,CAE4Be,SAF5B;AAAA,MAE4BA,SAF5B,iCAEwC,QAFxC;AAAA,MAEqDX,SAFrD,4BAEmEJ,KAFnE;;AAGtD,MAAMgB,QAAQ,GAAGC,OAAO,CAACL,MAAM,IAAIC,KAAX,CAAxB;AAEA,SACE,oBAAC,QAAD,eACMT,SADN;AAEE,IAAA,SAAS,EAAEA,SAAS,CAACc,IAAV,GAAiB,GAAjB,GAAuBH,SAFpC;AAGE,IAAA,SAAS,EACP3B,UAAU,CACRD,YAAY,CAAC,QAAD,EAAWgB,QAAX,CADJ,uBAEMF,IAFN,yBAGOO,IAHP,yBAIOE,KAJP,2BAKSR,KALT,mDAOL,aAPK,EAOWO,SAPX,gCAQL,mBARK,EAQiBO,QARjB,gBAJd;AAgBE,IAAA,UAAU,EAAEF,UAhBd;AAiBE,IAAA,UAAU,EAAC;AAjBb,MAmBE;AAAM,IAAA,SAAS,EAAC;AAAhB,KACGF,MAAM,IAAI;AAAM,IAAA,SAAS,EAAC;AAAhB,KAAkCA,MAAlC,CADb,EAEGD,QAAQ,IACP,oBAAC,gBAAD;AACE,IAAA,IAAI,EAAEV,IADR;AAEE,IAAA,KAAK,EAAEC,KAFT;AAGE,IAAA,QAAQ,EAAEC,QAHZ;AAIE,IAAA,SAAS,EAAC;AAJZ,KAMGQ,QANH,CAHJ,EAYGE,KAAK,IAAI;AAAM,IAAA,SAAS,EAAC;AAAhB,KAAiCA,KAAjC,CAZZ,CAnBF,CADF;AAoCD,CAzCD;;AA2CAN,MAAM,CAACY,YAAP,GAAsB;AACpBX,EAAAA,IAAI,EAAE,SADc;AAEpBE,EAAAA,KAAK,EAAE,QAFa;AAGpBT,EAAAA,IAAI,EAAE,GAHc;AAIpBQ,EAAAA,SAAS,EAAE,KAJS;AAKpBW,EAAAA,eAAe,EAAE,IALG;AAMpBC,EAAAA,eAAe,EAAE;AANG,CAAtB;AASA,eAAezB,cAAc,CAACW,MAAD,EAAS;AACpCL,EAAAA,KAAK,EAAE;AAD6B,CAAT,CAA7B","sourcesContent":["import { ElementType, FC, ReactNode } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport Tappable, { TappableProps } from '../Tappable/Tappable';\nimport Title from '../Typography/Title/Title';\nimport Text from '../Typography/Text/Text';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Caption from '../Typography/Caption/Caption';\nimport { HasAlign } from '../../types';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptivityProps, SizeType, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { Platform, IOS, VKCOM } from '../../lib/platform';\n\nexport interface VKUIButtonProps extends HasAlign {\n  mode?: 'primary' | 'secondary' | 'tertiary' | 'outline' | 'commerce' | 'destructive' | 'overlay_primary' | 'overlay_secondary' | 'overlay_outline';\n  size?: 's' | 'm' | 'l';\n  stretched?: boolean;\n  before?: ReactNode;\n  after?: ReactNode;\n}\n\nexport interface ButtonProps extends Omit<TappableProps, 'size'>, VKUIButtonProps {}\n\ninterface ButtonTypographyProps {\n  size: ButtonProps['size'];\n  platform: Platform;\n  sizeY: AdaptivityProps['sizeY'];\n  children?: ButtonProps['children'];\n  Component?: ElementType;\n}\n\nconst ButtonTypography: FC<ButtonTypographyProps> = (props: ButtonTypographyProps) => {\n  const { size, sizeY, platform, ...restProps } = props;\n  const isCompact = sizeY === SizeType.COMPACT;\n\n  switch (size) {\n    case 'l':\n      if (isCompact) {\n        return <Text weight=\"medium\" {...restProps} />;\n      }\n\n      return <Title level=\"3\" weight=\"medium\" {...restProps} />;\n    case 'm':\n      if (isCompact) {\n        return <Subhead weight={platform === VKCOM ? 'regular' : 'medium'} {...restProps} />;\n      }\n\n      return <Text weight=\"medium\" {...restProps} />;\n    case 's':\n    default:\n      if (platform === IOS) {\n        return <Subhead weight=\"medium\" {...restProps} />;\n      }\n\n      if (platform === VKCOM) {\n        return <Caption level=\"1\" weight=\"regular\" {...restProps} />;\n      }\n\n      if (isCompact) {\n        return <Caption level=\"1\" weight=\"medium\" {...restProps} />;\n      }\n\n      return <Subhead weight=\"medium\" {...restProps} />;\n  }\n};\n\nconst Button: FC<ButtonProps> = (props: ButtonProps) => {\n  const platform = usePlatform();\n  const { size, mode, stretched, align, children, before, after, getRootRef, sizeY, Component = 'button', ...restProps } = props;\n  const hasIcons = Boolean(before || after);\n\n  return (\n    <Tappable\n      {...restProps}\n      Component={restProps.href ? 'a' : Component}\n      vkuiClass={\n        classNames(\n          getClassName('Button', platform),\n          `Button--sz-${size}`,\n          `Button--lvl-${mode}`,\n          `Button--aln-${align}`,\n          `Button--sizeY-${sizeY}`,\n          {\n            ['Button--str']: stretched,\n            ['Button--with-icon']: hasIcons,\n          },\n        )\n      }\n      getRootRef={getRootRef}\n      activeMode=\"opacity\"\n    >\n      <span vkuiClass=\"Button__in\">\n        {before && <span vkuiClass=\"Button__before\">{before}</span>}\n        {children && (\n          <ButtonTypography\n            size={size}\n            sizeY={sizeY}\n            platform={platform}\n            vkuiClass=\"Button__content\"\n          >\n            {children}\n          </ButtonTypography>\n        )}\n        {after && <span vkuiClass=\"Button__after\">{after}</span>}\n      </span>\n    </Tappable>\n  );\n};\n\nButton.defaultProps = {\n  mode: 'primary',\n  align: 'center',\n  size: 's',\n  stretched: false,\n  stopPropagation: true,\n  hasFocusVisible: true,\n};\n\nexport default withAdaptivity(Button, {\n  sizeY: true,\n});\n"],"file":"Button.js"}