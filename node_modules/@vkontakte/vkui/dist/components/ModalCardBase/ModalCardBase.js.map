{"version":3,"sources":["../../../src/components/ModalCardBase/ModalCardBase.tsx"],"names":["hasReactNode","Title","Subhead","classNames","getClassName","usePlatform","ViewHeight","ViewWidth","withAdaptivity","PanelHeaderButton","IOS","ModalDismissButton","Icon24Dismiss","ModalCardBase","getRootRef","icon","header","subheader","children","actions","actionsLayout","viewWidth","hasMouse","viewHeight","onClose","restProps","platform","isDesktop","SMALL_TABLET","MEDIUM","canShowCloseBtn","canShowCloseBtnIos"],"mappings":";;;AACA,SAASA,YAAT;AACA,OAAOC,KAAP;AACA,OAAOC,OAAP;AACA,SAASC,UAAT;AACA,SAASC,YAAT;AACA,SAASC,WAAT;AACA,SAA0BC,UAA1B,EAAsCC,SAAtC,EAAiDC,cAAjD;AAEA,SAASC,iBAAT;AACA,SAASC,GAAT;AACA,OAAOC,kBAAP;AACA,SAASC,aAAT,QAA8B,kBAA9B;AAkCA,OAAO,IAAMC,aAAqC,GAAGL,cAAc,CAAC,gBAaxB;AAAA,MAZ1CM,UAY0C,QAZ1CA,UAY0C;AAAA,MAX1CC,IAW0C,QAX1CA,IAW0C;AAAA,MAV1CC,MAU0C,QAV1CA,MAU0C;AAAA,MAT1CC,SAS0C,QAT1CA,SAS0C;AAAA,MAR1CC,QAQ0C,QAR1CA,QAQ0C;AAAA,MAP1CC,OAO0C,QAP1CA,OAO0C;AAAA,MAN1CC,aAM0C,QAN1CA,aAM0C;AAAA,MAL1CC,SAK0C,QAL1CA,SAK0C;AAAA,MAJ1CC,QAI0C,QAJ1CA,QAI0C;AAAA,MAH1CC,UAG0C,QAH1CA,UAG0C;AAAA,MAF1CC,OAE0C,QAF1CA,OAE0C;AAAA,MADvCC,SACuC;;AAC1C,MAAMC,QAAQ,GAAGrB,WAAW,EAA5B;AACA,MAAMsB,SAAS,GAAGN,SAAS,IAAId,SAAS,CAACqB,YAAvB,KAAwCN,QAAQ,IAAIC,UAAU,IAAIjB,UAAU,CAACuB,MAA7E,CAAlB;AAEA,MAAMC,eAAe,GAAGT,SAAS,IAAId,SAAS,CAACqB,YAA/C;AACA,MAAMG,kBAAkB,GAAGL,QAAQ,KAAKhB,GAAb,IAAoB,CAACoB,eAAhD;AAEA,SACE,wCACML,SADN;AAEE,IAAA,SAAS,EAAEtB,UAAU,CAACC,YAAY,CAAC,eAAD,EAAkBsB,QAAlB,CAAb,EAA0C;AAC7D,gCAA0BC;AADmC,KAA1C,CAFvB;AAKE,IAAA,GAAG,EAAEb;AALP,MAOE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGd,YAAY,CAACe,IAAD,CAAZ,IAAsB;AAAK,IAAA,SAAS,EAAC;AAAf,KAAsCA,IAAtC,CADzB,EAEGf,YAAY,CAACgB,MAAD,CAAZ,IAAwB,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,GAAb;AAAiB,IAAA,MAAM,EAAC,UAAxB;AAAmC,IAAA,SAAS,EAAC;AAA7C,KAAsEA,MAAtE,CAF3B,EAGGhB,YAAY,CAACiB,SAAD,CAAZ,IAA2B,oBAAC,OAAD;AAAS,IAAA,MAAM,EAAC,SAAhB;AAA0B,IAAA,SAAS,EAAC;AAApC,KAAgEA,SAAhE,CAH9B,EAKGC,QALH,EAOGlB,YAAY,CAACmB,OAAD,CAAZ,IACC;AAAK,IAAA,SAAS,EAAEhB,UAAU,CAAC,wBAAD,EAA2B;AACnD,mCAA6BiB,aAAa,KAAK;AADI,KAA3B;AAA1B,KAGGD,OAHH,CARJ,EAeGW,eAAe,IAAI,oBAAC,kBAAD;AAAoB,IAAA,OAAO,EAAEN;AAA7B,IAftB,EAgBGO,kBAAkB,IACjB,oBAAC,iBAAD;AAAmB,IAAA,SAAS,EAAC,oBAA7B;AAAkD,IAAA,OAAO,EAAEP;AAA3D,KACE,oBAAC,aAAD,OADF,CAjBJ,CAPF,CADF;AAgCD,CApDkE,EAoDhE;AACDH,EAAAA,SAAS,EAAE,IADV;AAEDE,EAAAA,UAAU,EAAE,IAFX;AAGDD,EAAAA,QAAQ,EAAE;AAHT,CApDgE,CAA5D","sourcesContent":["import { FC, HTMLAttributes, ReactNode } from 'react';\nimport { hasReactNode } from '../../lib/utils';\nimport Title from '../Typography/Title/Title';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport { classNames } from '../../lib/classNames';\nimport { getClassName } from '../../helpers/getClassName';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptivityProps, ViewHeight, ViewWidth, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { HasRootRef } from '../../types';\nimport { PanelHeaderButton } from '../PanelHeaderButton/PanelHeaderButton';\nimport { IOS } from '../../lib/platform';\nimport ModalDismissButton from '../ModalDismissButton/ModalDismissButton';\nimport { Icon24Dismiss } from '@vkontakte/icons';\n\nexport interface ModalCardBaseProps extends HTMLAttributes<HTMLDivElement>, HasRootRef<HTMLDivElement> {\n  /**\n   * Иконка.\n   *\n   * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n   */\n  icon?: ReactNode;\n\n  /**\n   * Заголовок карточки\n   */\n  header?: ReactNode;\n\n  /**\n   * Подзаголовок\n   */\n  subheader?: ReactNode;\n\n  /**\n   * Кнопки-действия.\n   *\n   * Рекомендуется использовать `<Button size=\"l\" mode=\"primary\" />` или `<Button size=\"l\" mode=\"secondary\" />`\n   */\n  actions?: ReactNode;\n\n  /**\n   * Тип отображения кнопок: вертикальный или горизонтальный\n   */\n  actionsLayout?: 'vertical' | 'horizontal';\n  onClose?: VoidFunction;\n}\n\nexport const ModalCardBase: FC<ModalCardBaseProps> = withAdaptivity(({\n  getRootRef,\n  icon,\n  header,\n  subheader,\n  children,\n  actions,\n  actionsLayout,\n  viewWidth,\n  hasMouse,\n  viewHeight,\n  onClose,\n  ...restProps\n}: ModalCardBaseProps & AdaptivityProps) => {\n  const platform = usePlatform();\n  const isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n\n  const canShowCloseBtn = viewWidth >= ViewWidth.SMALL_TABLET;\n  const canShowCloseBtnIos = platform === IOS && !canShowCloseBtn;\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={classNames(getClassName('ModalCardBase', platform), {\n        'ModalCardBase--desktop': isDesktop,\n      })}\n      ref={getRootRef}\n    >\n      <div vkuiClass=\"ModalCardBase__container\">\n        {hasReactNode(icon) && <div vkuiClass=\"ModalCardBase__icon\">{icon}</div>}\n        {hasReactNode(header) && <Title level=\"2\" weight=\"semibold\" vkuiClass=\"ModalCardBase__header\">{header}</Title>}\n        {hasReactNode(subheader) && <Subhead weight=\"regular\" vkuiClass=\"ModalCardBase__subheader\">{subheader}</Subhead>}\n\n        {children}\n\n        {hasReactNode(actions) &&\n          <div vkuiClass={classNames('ModalCardBase__actions', {\n            'ModalCardBase__actions--v': actionsLayout === 'vertical',\n          })}>\n            {actions}\n          </div>\n        }\n\n        {canShowCloseBtn && <ModalDismissButton onClick={onClose} />}\n        {canShowCloseBtnIos &&\n          <PanelHeaderButton vkuiClass=\"ModalCard__dismiss\" onClick={onClose}>\n            <Icon24Dismiss />\n          </PanelHeaderButton>\n        }\n      </div>\n    </div>\n  );\n}, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true,\n});\n\n"],"file":"ModalCardBase.js"}