{"version":3,"sources":["../../../src/components/PanelHeader/PanelHeader.tsx"],"names":["useContext","usePlatform","getClassName","classNames","FixedLayout","Separator","Platform","VKCOM","ConfigProviderContext","WebviewType","SizeType","withAdaptivity","isPrimitiveReactNode","Text","TooltipContainer","PanelHeaderInTypography","children","platform","PanelHeaderIn","left","right","webviewType","isPrimitive","VKAPPS","PanelHeader","props","separator","visor","transparent","shadow","getRef","getRootRef","sizeX","sizeY","fixed","restProps","needShadow","REGULAR","isFixed","undefined","defaultProps"],"mappings":"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","sourcesContent":["import { FC, HTMLAttributes, ReactNode, useContext } from 'react';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport FixedLayout from '../FixedLayout/FixedLayout';\nimport Separator from '../Separator/Separator';\nimport { Platform, VKCOM } from '../../lib/platform';\nimport { HasRef, HasRootRef } from '../../types';\nimport { ConfigProviderContext, WebviewType } from '../ConfigProvider/ConfigProviderContext';\nimport { AdaptivityProps, SizeType, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { isPrimitiveReactNode } from '../../lib/utils';\nimport Text from '../Typography/Text/Text';\nimport { TooltipContainer } from '../Tooltip/TooltipContainer';\n\nexport interface PanelHeaderProps extends\n  HTMLAttributes<HTMLDivElement>,\n  HasRef<HTMLDivElement>,\n  HasRootRef<HTMLDivElement>,\n  AdaptivityProps {\n  left?: ReactNode;\n  right?: ReactNode;\n  separator?: boolean;\n  transparent?: boolean;\n  shadow?: boolean;\n  /**\n   * Если `false`, то шапка будет нулевой высоты и контент панели \"залезет\" под неё\n   */\n  visor?: boolean;\n  /**\n   * Если `false`, то шапка будет в потоке. По умолчанию `true`, но если платформа vkcom, то по умолчанию `false`.\n   */\n  fixed?: boolean;\n}\n\nconst PanelHeaderInTypography: FC<PanelHeaderProps> = ({ children }: PanelHeaderProps) => {\n  const platform = usePlatform();\n\n  return platform === VKCOM\n    ? <Text weight=\"medium\">{children}</Text>\n    : <span vkuiClass=\"PanelHeader__content-in\">{children}</span>;\n};\n\nconst PanelHeaderIn: FC<PanelHeaderProps> = ({ children, left, right }) => {\n  const { webviewType } = useContext(ConfigProviderContext);\n  const isPrimitive = isPrimitiveReactNode(children);\n\n  return (\n    <TooltipContainer fixed vkuiClass=\"PanelHeader__in\">\n      <div vkuiClass=\"PanelHeader__left\">\n        {left}\n      </div>\n      <div vkuiClass=\"PanelHeader__content\">\n        {isPrimitive ? <PanelHeaderInTypography>{children}</PanelHeaderInTypography> : children}\n      </div>\n      <div vkuiClass=\"PanelHeader__right\">\n        {webviewType !== WebviewType.VKAPPS && right}\n      </div>\n    </TooltipContainer>\n  );\n};\n\nconst PanelHeader: FC<PanelHeaderProps> = (props: PanelHeaderProps) => {\n  const {\n    left,\n    children,\n    right,\n    separator,\n    visor,\n    transparent,\n    shadow,\n    getRef,\n    getRootRef,\n    sizeX,\n    sizeY,\n    fixed,\n    ...restProps\n  } = props;\n  const platform = usePlatform();\n  const { webviewType } = useContext(ConfigProviderContext);\n  const needShadow = shadow && sizeX === SizeType.REGULAR;\n  let isFixed = fixed !== undefined ? fixed : platform !== Platform.VKCOM;\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={\n        classNames(\n          getClassName('PanelHeader', platform),\n          {\n            'PanelHeader--trnsp': transparent,\n            'PanelHeader--shadow': needShadow,\n            'PanelHeader--vis': visor,\n            'PanelHeader--sep': separator && visor,\n            'PanelHeader--vkapps': webviewType === WebviewType.VKAPPS,\n            'PanelHeader--no-left': !left,\n            'PanelHeader--no-right': !right,\n            'PanelHeader--fixed': isFixed,\n          },\n          `PanelHeader--sizeX-${sizeX}`,\n        )\n      }\n      ref={isFixed ? getRootRef : getRef}\n    >\n      {isFixed ?\n        <FixedLayout vkuiClass=\"PanelHeader__fixed\" vertical=\"top\" getRootRef={getRef}>\n          <PanelHeaderIn {...props} />\n        </FixedLayout> :\n        <PanelHeaderIn {...props} />\n      }\n      {separator && visor && platform !== VKCOM && <Separator\n        vkuiClass=\"PanelHeader__separator\"\n        expanded={sizeX === SizeType.REGULAR}\n      />}\n    </div>\n  );\n};\n\nPanelHeader.defaultProps = {\n  separator: true,\n  transparent: false,\n  visor: true,\n};\n\nexport default withAdaptivity(PanelHeader, {\n  sizeX: true,\n  sizeY: true,\n});\n"],"file":"PanelHeader.js"}