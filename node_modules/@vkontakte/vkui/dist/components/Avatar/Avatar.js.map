{"version":3,"sources":["../../../src/components/Avatar/Avatar.tsx"],"names":["getClassName","classNames","usePlatform","Avatar","src","size","shadow","mode","className","children","getRootRef","style","alt","ariaLabel","restProps","platform","borderRadius","width","height","defaultProps"],"mappings":";;;;AACA,SAASA,YAAT;AACA,SAASC,UAAT;AACA,SAASC,WAAT;;AAYA,IAAMC,MAAuB,GAAG,SAA1BA,MAA0B,OAYb;AAAA,MAXjBC,GAWiB,QAXjBA,GAWiB;AAAA,MAVjBC,IAUiB,QAVjBA,IAUiB;AAAA,MATjBC,MASiB,QATjBA,MASiB;AAAA,MARjBC,IAQiB,QARjBA,IAQiB;AAAA,MAPjBC,SAOiB,QAPjBA,SAOiB;AAAA,MANjBC,QAMiB,QANjBA,QAMiB;AAAA,MALjBC,UAKiB,QALjBA,UAKiB;AAAA,MAJjBC,KAIiB,QAJjBA,KAIiB;AAAA,MAHjBC,GAGiB,QAHjBA,GAGiB;AAAA,MAFHC,SAEG,QAFjB,YAEiB;AAAA,MADdC,SACc;;AACjB,MAAMC,QAAQ,GAAGb,WAAW,EAA5B;AAEA,MAAIc,YAA6B,GAAG,KAApC;;AAEA,UAAQT,IAAR;AACE,SAAK,OAAL;AACEF,MAAAA,IAAI,GAAG,EAAP,KAAcW,YAAY,GAAG,CAA7B;AACAX,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BW,YAAY,GAAG,CAA3C;AACAX,MAAAA,IAAI,IAAI,EAAR,KAAeW,YAAY,GAAG,CAA9B;AACA;;AACF,SAAK,KAAL;AACEX,MAAAA,IAAI,IAAI,EAAR,KAAeW,YAAY,GAAG,CAA9B;AACAX,MAAAA,IAAI,GAAG,EAAP,IAAaA,IAAI,GAAG,EAApB,KAA2BW,YAAY,GAAG,EAA1C;AACAX,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BW,YAAY,GAAG,EAA3C;AACAX,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BW,YAAY,GAAG,EAA3C;AACAX,MAAAA,IAAI,IAAI,EAAR,KAAeW,YAAY,GAAG,EAA9B;AACA;;AACF;AACE;AAdJ;;AAiBA,SACE;AACE,IAAA,SAAS,EAAEf,UAAU,CAACD,YAAY,CAAC,QAAD,EAAWe,QAAX,CAAb,yBAAmDR,IAAnD,wBAAyEF,IAAzE,GAAiF;AACpG,wBAAkBC;AADkF,KAAjF,CADvB;AAIE,IAAA,SAAS,EAAEE,SAJb;AAKE,IAAA,GAAG,EAAEE,UALP;AAME,IAAA,IAAI,EAAEN,GAAG,GAAG,KAAH,GAAW,cANtB;AAOE,kBAAYQ,GAAG,IAAIC;AAPrB,KASE,wCAASC,SAAT;AAAoB,mBAAY,MAAhC;AAAuC,IAAA,SAAS,EAAC,YAAjD;AAA8D,IAAA,KAAK,kCAAOH,KAAP;AAAcM,MAAAA,KAAK,EAAEZ,IAArB;AAA2Ba,MAAAA,MAAM,EAAEb,IAAnC;AAAyCW,MAAAA,YAAY,EAAZA;AAAzC;AAAnE,MACGZ,GAAG,IAAI;AAAK,IAAA,SAAS,EAAC,aAAf;AAA6B,IAAA,GAAG,EAAEA,GAAlC;AAAuC,IAAA,GAAG,EAAC;AAA3C,IADV,EAEGK,QAAQ,IAAI;AAAK,IAAA,SAAS,EAAC;AAAf,KAAmCA,QAAnC,CAFf,CATF,CADF;AAgBD,CAlDD;;AAoDAN,MAAM,CAACgB,YAAP,GAAsB;AACpBd,EAAAA,IAAI,EAAE,EADc;AAEpBE,EAAAA,IAAI,EAAE,SAFc;AAGpBD,EAAAA,MAAM,EAAE;AAHY,CAAtB;AAMA,eAAeH,MAAf","sourcesContent":["import { FC, ImgHTMLAttributes } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { HasRootRef } from '../../types';\n\nexport interface AvatarProps extends ImgHTMLAttributes<HTMLElement>, HasRootRef<HTMLDivElement> {\n  /**\n   * Рекомендуемый сет значений: 96 | 88 | 80 | 72 | 64 | 56 | 48 | 44 | 40 | 36 | 32 | 28 | 24\n   */\n  size?: number;\n  mode?: 'default' | 'image' | 'app';\n  shadow?: boolean;\n}\n\nconst Avatar: FC<AvatarProps> = ({\n  src,\n  size,\n  shadow,\n  mode,\n  className,\n  children,\n  getRootRef,\n  style,\n  alt,\n  'aria-label': ariaLabel,\n  ...restProps\n}: AvatarProps) => {\n  const platform = usePlatform();\n\n  let borderRadius: string | number = '50%';\n\n  switch (mode) {\n    case 'image':\n      size < 64 && (borderRadius = 4);\n      size >= 64 && size < 96 && (borderRadius = 6);\n      size >= 96 && (borderRadius = 8);\n      break;\n    case 'app':\n      size <= 40 && (borderRadius = 8);\n      size > 40 && size < 56 && (borderRadius = 10);\n      size >= 56 && size < 64 && (borderRadius = 12);\n      size >= 64 && size < 84 && (borderRadius = 16);\n      size >= 84 && (borderRadius = 18);\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div\n      vkuiClass={classNames(getClassName('Avatar', platform), `Avatar--type-${mode}`, `Avatar--sz-${size}`, {\n        'Avatar--shadow': shadow,\n      })}\n      className={className}\n      ref={getRootRef}\n      role={src ? 'img' : 'presentation'}\n      aria-label={alt || ariaLabel}\n    >\n      <div {...restProps} aria-hidden=\"true\" vkuiClass=\"Avatar__in\" style={{ ...style, width: size, height: size, borderRadius }}>\n        {src && <img vkuiClass=\"Avatar__img\" src={src} alt=\"\" />}\n        {children && <div vkuiClass=\"Avatar__children\">{children}</div>}\n      </div>\n    </div>\n  );\n};\n\nAvatar.defaultProps = {\n  size: 48,\n  mode: 'default',\n  shadow: true,\n};\n\nexport default Avatar;\n"],"file":"Avatar.js"}