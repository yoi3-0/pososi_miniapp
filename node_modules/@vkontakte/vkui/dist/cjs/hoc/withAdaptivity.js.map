{"version":3,"sources":["../../../src/hoc/withAdaptivity.tsx"],"names":["withAdaptivity","TargetComponent","config","AdaptivityConsumer","props","context","AdaptivityContext","update","sizeX","sizeY","viewWidth","viewHeight","hasMouse","adaptivityProps","undefined","target"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAYO,SAASA,cAAT,CAA2BC,eAA3B,EAA+CC,MAA/C,EAAkE;AACvE,WAASC,kBAAT,CAA4BC,KAA5B,EAAoD;AAClD,QAAMC,OAAO,GAAG,uBAAWC,oCAAX,CAAhB;AACA,QAAIC,MAAM,GAAG,KAAb;;AAEA,QAAIH,KAAK,CAACI,KAAN,IAAeJ,KAAK,CAACK,KAAzB,EAAgC;AAC9BF,MAAAA,MAAM,GAAG,IAAT;AACD;;AAED,QAAMC,KAAK,GAAGJ,KAAK,CAACI,KAAN,IAAeH,OAAO,CAACG,KAArC;AACA,QAAMC,KAAK,GAAGL,KAAK,CAACK,KAAN,IAAeJ,OAAO,CAACI,KAArC;AACA,QAAMC,SAAS,GAAGL,OAAO,CAACK,SAA1B;AACA,QAAMC,UAAU,GAAGN,OAAO,CAACM,UAA3B;AACA,QAAMC,QAAQ,GAAGP,OAAO,CAACO,QAAzB;AAEA,QAAMC,eAML,GAAG,EANJ;AAOAX,IAAAA,MAAM,CAACM,KAAP,GAAeK,eAAe,CAACL,KAAhB,GAAwBA,KAAvC,GAA+CM,SAA/C;AACAZ,IAAAA,MAAM,CAACO,KAAP,GAAeI,eAAe,CAACJ,KAAhB,GAAwBA,KAAvC,GAA+CK,SAA/C;AACAZ,IAAAA,MAAM,CAACQ,SAAP,GAAmBG,eAAe,CAACH,SAAhB,GAA4BA,SAA/C,GAA2DI,SAA3D;AACAZ,IAAAA,MAAM,CAACS,UAAP,GAAoBE,eAAe,CAACF,UAAhB,GAA6BA,UAAjD,GAA8DG,SAA9D;AACAZ,IAAAA,MAAM,CAACU,QAAP,GAAkBC,eAAe,CAACD,QAAhB,GAA2BA,QAA7C,GAAwDE,SAAxD,CAzBkD,CA2BlD;;AACA,QAAMC,MAAM,GAAG,qCAAC,eAAD,6BAAqBX,KAArB,EAAgCS,eAAhC,EAAf;;AAEA,QAAIN,MAAJ,EAAY;AACV,aAAO,qCAAC,oCAAD,CAAmB,QAAnB;AAA4B,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAALA,KAAF;AAASC,UAAAA,KAAK,EAALA,KAAT;AAAgBC,UAAAA,SAAS,EAATA,SAAhB;AAA2BC,UAAAA,UAAU,EAAVA,UAA3B;AAAuCC,UAAAA,QAAQ,EAARA;AAAvC;AAAnC,SACJG,MADI,CAAP;AAGD;;AAED,WAAOA,MAAP;AACD;;AAED,SAAOZ,kBAAP;AACD","sourcesContent":["import { useContext } from 'react';\nimport { AdaptivityContext, SizeType, ViewHeight, ViewWidth } from '../components/AdaptivityProvider/AdaptivityContext';\n\ninterface Config {\n  sizeX?: boolean;\n  sizeY?: boolean;\n  viewWidth?: boolean;\n  viewHeight?: boolean;\n  hasMouse?: boolean;\n}\n\nexport { SizeType, ViewWidth, ViewHeight };\n\nexport function withAdaptivity<T>(TargetComponent: T, config: Config): T {\n  function AdaptivityConsumer(props: AdaptivityProps) {\n    const context = useContext(AdaptivityContext);\n    let update = false;\n\n    if (props.sizeX || props.sizeY) {\n      update = true;\n    }\n\n    const sizeX = props.sizeX || context.sizeX;\n    const sizeY = props.sizeY || context.sizeY;\n    const viewWidth = context.viewWidth;\n    const viewHeight = context.viewHeight;\n    const hasMouse = context.hasMouse;\n\n    const adaptivityProps: {\n      sizeX?: SizeType;\n      sizeY?: SizeType;\n      viewWidth?: ViewWidth;\n      viewHeight?: ViewHeight;\n      hasMouse?: boolean;\n    } = {};\n    config.sizeX ? adaptivityProps.sizeX = sizeX : undefined;\n    config.sizeY ? adaptivityProps.sizeY = sizeY : undefined;\n    config.viewWidth ? adaptivityProps.viewWidth = viewWidth : undefined;\n    config.viewHeight ? adaptivityProps.viewHeight = viewHeight : undefined;\n    config.hasMouse ? adaptivityProps.hasMouse = hasMouse : undefined;\n\n    // @ts-ignore\n    const target = <TargetComponent {...props} {...adaptivityProps} />;\n\n    if (update) {\n      return <AdaptivityContext.Provider value={{ sizeX, sizeY, viewWidth, viewHeight, hasMouse }}>\n        {target}\n      </AdaptivityContext.Provider>;\n    }\n\n    return target;\n  }\n\n  return AdaptivityConsumer as unknown as T;\n}\n\nexport interface AdaptivityProps {\n  sizeX?: SizeType;\n  sizeY?: SizeType;\n  /**\n   * @ignore\n   */\n  viewWidth?: ViewWidth;\n  /**\n   * @ignore\n   */\n  viewHeight?: ViewHeight;\n  /**\n   * @ignore\n   */\n  hasMouse?: boolean;\n}\n"],"file":"withAdaptivity.js"}