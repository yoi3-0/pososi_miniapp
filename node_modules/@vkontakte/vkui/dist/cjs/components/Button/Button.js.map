{"version":3,"sources":["../../../../src/components/Button/Button.tsx"],"names":["ButtonTypography","props","size","sizeY","platform","restProps","isCompact","SizeType","COMPACT","VKCOM","IOS","Button","mode","stretched","align","children","before","after","getRootRef","Component","hasIcons","Boolean","href","defaultProps","stopPropagation","hasFocusVisible"],"mappings":"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","sourcesContent":["import { ElementType, FC, ReactNode } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport Tappable, { TappableProps } from '../Tappable/Tappable';\nimport Title from '../Typography/Title/Title';\nimport Text from '../Typography/Text/Text';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Caption from '../Typography/Caption/Caption';\nimport { HasAlign } from '../../types';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptivityProps, SizeType, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { Platform, IOS, VKCOM } from '../../lib/platform';\n\nexport interface VKUIButtonProps extends HasAlign {\n  mode?: 'primary' | 'secondary' | 'tertiary' | 'outline' | 'commerce' | 'destructive' | 'overlay_primary' | 'overlay_secondary' | 'overlay_outline';\n  size?: 's' | 'm' | 'l';\n  stretched?: boolean;\n  before?: ReactNode;\n  after?: ReactNode;\n}\n\nexport interface ButtonProps extends Omit<TappableProps, 'size'>, VKUIButtonProps {}\n\ninterface ButtonTypographyProps {\n  size: ButtonProps['size'];\n  platform: Platform;\n  sizeY: AdaptivityProps['sizeY'];\n  children?: ButtonProps['children'];\n  Component?: ElementType;\n}\n\nconst ButtonTypography: FC<ButtonTypographyProps> = (props: ButtonTypographyProps) => {\n  const { size, sizeY, platform, ...restProps } = props;\n  const isCompact = sizeY === SizeType.COMPACT;\n\n  switch (size) {\n    case 'l':\n      if (isCompact) {\n        return <Text weight=\"medium\" {...restProps} />;\n      }\n\n      return <Title level=\"3\" weight=\"medium\" {...restProps} />;\n    case 'm':\n      if (isCompact) {\n        return <Subhead weight={platform === VKCOM ? 'regular' : 'medium'} {...restProps} />;\n      }\n\n      return <Text weight=\"medium\" {...restProps} />;\n    case 's':\n    default:\n      if (platform === IOS) {\n        return <Subhead weight=\"medium\" {...restProps} />;\n      }\n\n      if (platform === VKCOM) {\n        return <Caption level=\"1\" weight=\"regular\" {...restProps} />;\n      }\n\n      if (isCompact) {\n        return <Caption level=\"1\" weight=\"medium\" {...restProps} />;\n      }\n\n      return <Subhead weight=\"medium\" {...restProps} />;\n  }\n};\n\nconst Button: FC<ButtonProps> = (props: ButtonProps) => {\n  const platform = usePlatform();\n  const { size, mode, stretched, align, children, before, after, getRootRef, sizeY, Component = 'button', ...restProps } = props;\n  const hasIcons = Boolean(before || after);\n\n  return (\n    <Tappable\n      {...restProps}\n      Component={restProps.href ? 'a' : Component}\n      vkuiClass={\n        classNames(\n          getClassName('Button', platform),\n          `Button--sz-${size}`,\n          `Button--lvl-${mode}`,\n          `Button--aln-${align}`,\n          `Button--sizeY-${sizeY}`,\n          {\n            ['Button--str']: stretched,\n            ['Button--with-icon']: hasIcons,\n          },\n        )\n      }\n      getRootRef={getRootRef}\n      activeMode=\"opacity\"\n    >\n      <span vkuiClass=\"Button__in\">\n        {before && <span vkuiClass=\"Button__before\">{before}</span>}\n        {children && (\n          <ButtonTypography\n            size={size}\n            sizeY={sizeY}\n            platform={platform}\n            vkuiClass=\"Button__content\"\n          >\n            {children}\n          </ButtonTypography>\n        )}\n        {after && <span vkuiClass=\"Button__after\">{after}</span>}\n      </span>\n    </Tappable>\n  );\n};\n\nButton.defaultProps = {\n  mode: 'primary',\n  align: 'center',\n  size: 's',\n  stretched: false,\n  stopPropagation: true,\n  hasFocusVisible: true,\n};\n\nexport default withAdaptivity(Button, {\n  sizeY: true,\n});\n"],"file":"Button.js"}