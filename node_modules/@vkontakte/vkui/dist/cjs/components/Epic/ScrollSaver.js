"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ScrollSaver = void 0;

var _ScrollContext = require("../AppRoot/ScrollContext");

var _react = require("react");

var _useIsomorphicLayoutEffect = require("../../lib/useIsomorphicLayoutEffect");

var ScrollSaver = function ScrollSaver(_ref) {
  var children = _ref.children,
      initialScroll = _ref.initialScroll,
      saveScroll = _ref.saveScroll;

  var _useContext = (0, _react.useContext)(_ScrollContext.ScrollContext),
      getScroll = _useContext.getScroll,
      scrollTo = _useContext.scrollTo;

  (0, _useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(function () {
    if (typeof initialScroll === 'number') {
      scrollTo(0, initialScroll);
    }

    return function () {
      return saveScroll(getScroll().y);
    };
  }, []);
  return children;
};

exports.ScrollSaver = ScrollSaver;
//# sourceMappingURL=ScrollSaver.js.map