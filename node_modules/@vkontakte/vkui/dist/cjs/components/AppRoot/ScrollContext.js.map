{"version":3,"sources":["../../../../src/components/AppRoot/ScrollContext.ts"],"names":["ScrollContext","getScroll","x","y","scrollTo","noop","globalScrollController","window","document","pageXOffset","pageYOffset","body","scrollWidth","innerWidth","scrollHeight","innerHeight","elementScrollController","elRef","current","scrollLeft","scrollTop","el","clientWidth","clientHeight"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAOO,IAAMA,aAAa,gBAAG,0BAAsC;AACjEC,EAAAA,SAAS,EAAE;AAAA,WAAO;AAAEC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAP;AAAA,GADsD;AAEjEC,EAAAA,QAAQ,EAAEC;AAFuD,CAAtC,CAAtB;;;AAKA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,MAAD,EAAiBC,QAAjB;AAAA,SAA6C;AACjFP,IAAAA,SAAS,EAAE;AAAA,aAAO;AAAEC,QAAAA,CAAC,EAAEK,MAAM,CAACE,WAAZ;AAAyBN,QAAAA,CAAC,EAAEI,MAAM,CAACG;AAAnC,OAAP;AAAA,KADsE;AAEjFN,IAAAA,QAAQ,EAAE,oBAAkB;AAAA,UAAjBF,CAAiB,uEAAb,CAAa;AAAA,UAAVC,CAAU,uEAAN,CAAM;AAC1B;AACAI,MAAAA,MAAM,CAACH,QAAP,CACEF,CAAC,GAAG,iBAAMA,CAAN,EAAS,CAAT,EAAYM,QAAQ,CAACG,IAAT,CAAcC,WAAd,GAA4BL,MAAM,CAACM,UAA/C,CAAH,GAAgE,CADnE,EAEEV,CAAC,GAAG,iBAAMA,CAAN,EAAS,CAAT,EAAYK,QAAQ,CAACG,IAAT,CAAcG,YAAd,GAA6BP,MAAM,CAACQ,WAAhD,CAAH,GAAkE,CAFrE;AAGD;AAPgF,GAA7C;AAAA,CAA/B;;;;AAUA,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,KAAD;AAAA,SAAoC;AACzEhB,IAAAA,SAAS,EAAE;AAAA,aAAO;AAAEC,QAAAA,CAAC,EAAEe,KAAK,CAACC,OAAN,CAAcC,UAAnB;AAA+BhB,QAAAA,CAAC,EAAEc,KAAK,CAACC,OAAN,CAAcE;AAAhD,OAAP;AAAA,KAD8D;AAEzEhB,IAAAA,QAAQ,EAAE,oBAAkB;AAAA,UAAjBF,CAAiB,uEAAb,CAAa;AAAA,UAAVC,CAAU,uEAAN,CAAM;AAC1B,UAAMkB,EAAE,GAAGJ,KAAK,CAACC,OAAjB,CAD0B,CAE1B;;AACAG,MAAAA,EAAE,CAACjB,QAAH,CACEF,CAAC,GAAG,iBAAMA,CAAN,EAAS,CAAT,EAAYmB,EAAE,CAACT,WAAH,GAAiBS,EAAE,CAACC,WAAhC,CAAH,GAAkD,CADrD,EAEEnB,CAAC,GAAG,iBAAMA,CAAN,EAAS,CAAT,EAAYkB,EAAE,CAACP,YAAH,GAAkBO,EAAE,CAACE,YAAjC,CAAH,GAAoD,CAFvD;AAGD;AARwE,GAApC;AAAA,CAAhC","sourcesContent":["import { createContext, RefObject } from 'react';\nimport { noop } from '../../lib/utils';\nimport { clamp } from '../../helpers/math';\n\nexport interface ScrollContextInterface {\n  getScroll(): { x: number; y: number };\n  scrollTo(x?: number, y?: number): void;\n}\n\nexport const ScrollContext = createContext<ScrollContextInterface>({\n  getScroll: () => ({ x: 0, y: 0 }),\n  scrollTo: noop,\n});\n\nexport const globalScrollController = (window: Window, document: HTMLDocument) => ({\n  getScroll: () => ({ x: window.pageXOffset, y: window.pageYOffset }),\n  scrollTo: (x = 0, y = 0) => {\n    // Some iOS versions do not normalize scroll — do it manually.\n    window.scrollTo(\n      x ? clamp(x, 0, document.body.scrollWidth - window.innerWidth) : 0,\n      y ? clamp(y, 0, document.body.scrollHeight - window.innerHeight) : 0);\n  },\n});\n\nexport const elementScrollController = (elRef: RefObject<HTMLElement>) => ({\n  getScroll: () => ({ x: elRef.current.scrollLeft, y: elRef.current.scrollTop }),\n  scrollTo: (x = 0, y = 0) => {\n    const el = elRef.current;\n    // Some iOS versions do not normalize scroll — do it manually.\n    el.scrollTo(\n      x ? clamp(x, 0, el.scrollWidth - el.clientWidth) : 0,\n      y ? clamp(y, 0, el.scrollHeight - el.clientHeight) : 0);\n  },\n});\n"],"file":"ScrollContext.js"}