{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport Title from \"../Typography/Title/Title\";\nimport Subhead from \"../Typography/Subhead/Subhead\";\nimport { classNames } from \"../../lib/classNames\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { ViewHeight, ViewWidth, withAdaptivity } from \"../../hoc/withAdaptivity\";\nimport { PanelHeaderButton } from \"../PanelHeaderButton/PanelHeaderButton\";\nimport { IOS } from \"../../lib/platform\";\nimport ModalDismissButton from \"../ModalDismissButton/ModalDismissButton\";\nimport { Icon24Dismiss } from '@vkontakte/icons';\nexport var ModalCardBase = withAdaptivity(function (_ref) {\n  var getRootRef = _ref.getRootRef,\n      icon = _ref.icon,\n      header = _ref.header,\n      subheader = _ref.subheader,\n      children = _ref.children,\n      actions = _ref.actions,\n      actionsLayout = _ref.actionsLayout,\n      viewWidth = _ref.viewWidth,\n      hasMouse = _ref.hasMouse,\n      viewHeight = _ref.viewHeight,\n      onClose = _ref.onClose,\n      restProps = _objectWithoutProperties(_ref, [\"getRootRef\", \"icon\", \"header\", \"subheader\", \"children\", \"actions\", \"actionsLayout\", \"viewWidth\", \"hasMouse\", \"viewHeight\", \"onClose\"]);\n\n  var platform = usePlatform();\n  var isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n  var canShowCloseBtn = viewWidth >= ViewWidth.SMALL_TABLET;\n  var canShowCloseBtnIos = platform === IOS && !canShowCloseBtn;\n  return createScopedElement(\"div\", _extends({}, restProps, {\n    vkuiClass: classNames(getClassName('ModalCardBase', platform), {\n      'ModalCardBase--desktop': isDesktop\n    }),\n    ref: getRootRef\n  }), createScopedElement(\"div\", {\n    vkuiClass: \"ModalCardBase__container\"\n  }, hasReactNode(icon) && createScopedElement(\"div\", {\n    vkuiClass: \"ModalCardBase__icon\"\n  }, icon), hasReactNode(header) && createScopedElement(Title, {\n    level: \"2\",\n    weight: \"semibold\",\n    vkuiClass: \"ModalCardBase__header\"\n  }, header), hasReactNode(subheader) && createScopedElement(Subhead, {\n    weight: \"regular\",\n    vkuiClass: \"ModalCardBase__subheader\"\n  }, subheader), children, hasReactNode(actions) && createScopedElement(\"div\", {\n    vkuiClass: classNames('ModalCardBase__actions', {\n      'ModalCardBase__actions--v': actionsLayout === 'vertical'\n    })\n  }, actions), canShowCloseBtn && createScopedElement(ModalDismissButton, {\n    onClick: onClose\n  }), canShowCloseBtnIos && createScopedElement(PanelHeaderButton, {\n    vkuiClass: \"ModalCard__dismiss\",\n    onClick: onClose\n  }, createScopedElement(Icon24Dismiss, null))));\n}, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true\n});","map":{"version":3,"sources":["../../../src/components/ModalCardBase/ModalCardBase.tsx"],"names":["ModalCardBase","withAdaptivity","getRootRef","icon","header","subheader","children","actions","actionsLayout","viewWidth","hasMouse","viewHeight","onClose","restProps","platform","usePlatform","isDesktop","ViewWidth","ViewHeight","canShowCloseBtn","canShowCloseBtnIos","classNames","getClassName","hasReactNode"],"mappings":"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","sourcesContent":["import { FC, HTMLAttributes, ReactNode } from 'react';\nimport { hasReactNode } from '../../lib/utils';\nimport Title from '../Typography/Title/Title';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport { classNames } from '../../lib/classNames';\nimport { getClassName } from '../../helpers/getClassName';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptivityProps, ViewHeight, ViewWidth, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { HasRootRef } from '../../types';\nimport { PanelHeaderButton } from '../PanelHeaderButton/PanelHeaderButton';\nimport { IOS } from '../../lib/platform';\nimport ModalDismissButton from '../ModalDismissButton/ModalDismissButton';\nimport { Icon24Dismiss } from '@vkontakte/icons';\n\nexport interface ModalCardBaseProps extends HTMLAttributes<HTMLDivElement>, HasRootRef<HTMLDivElement> {\n  /**\n   * Иконка.\n   *\n   * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n   */\n  icon?: ReactNode;\n\n  /**\n   * Заголовок карточки\n   */\n  header?: ReactNode;\n\n  /**\n   * Подзаголовок\n   */\n  subheader?: ReactNode;\n\n  /**\n   * Кнопки-действия.\n   *\n   * Рекомендуется использовать `<Button size=\"l\" mode=\"primary\" />` или `<Button size=\"l\" mode=\"secondary\" />`\n   */\n  actions?: ReactNode;\n\n  /**\n   * Тип отображения кнопок: вертикальный или горизонтальный\n   */\n  actionsLayout?: 'vertical' | 'horizontal';\n  onClose?: VoidFunction;\n}\n\nexport const ModalCardBase: FC<ModalCardBaseProps> = withAdaptivity(({\n  getRootRef,\n  icon,\n  header,\n  subheader,\n  children,\n  actions,\n  actionsLayout,\n  viewWidth,\n  hasMouse,\n  viewHeight,\n  onClose,\n  ...restProps\n}: ModalCardBaseProps & AdaptivityProps) => {\n  const platform = usePlatform();\n  const isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n\n  const canShowCloseBtn = viewWidth >= ViewWidth.SMALL_TABLET;\n  const canShowCloseBtnIos = platform === IOS && !canShowCloseBtn;\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={classNames(getClassName('ModalCardBase', platform), {\n        'ModalCardBase--desktop': isDesktop,\n      })}\n      ref={getRootRef}\n    >\n      <div vkuiClass=\"ModalCardBase__container\">\n        {hasReactNode(icon) && <div vkuiClass=\"ModalCardBase__icon\">{icon}</div>}\n        {hasReactNode(header) && <Title level=\"2\" weight=\"semibold\" vkuiClass=\"ModalCardBase__header\">{header}</Title>}\n        {hasReactNode(subheader) && <Subhead weight=\"regular\" vkuiClass=\"ModalCardBase__subheader\">{subheader}</Subhead>}\n\n        {children}\n\n        {hasReactNode(actions) &&\n          <div vkuiClass={classNames('ModalCardBase__actions', {\n            'ModalCardBase__actions--v': actionsLayout === 'vertical',\n          })}>\n            {actions}\n          </div>\n        }\n\n        {canShowCloseBtn && <ModalDismissButton onClick={onClose} />}\n        {canShowCloseBtnIos &&\n          <PanelHeaderButton vkuiClass=\"ModalCard__dismiss\" onClick={onClose}>\n            <Icon24Dismiss />\n          </PanelHeaderButton>\n        }\n      </div>\n    </div>\n  );\n}, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true,\n});\n\n"]},"metadata":{},"sourceType":"module"}