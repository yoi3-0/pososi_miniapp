{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useCallback } from 'react';\nexport function useEnsuredControl(props, options) {\n  var isControlled = props.hasOwnProperty('value');\n\n  var _useState = useState(options.defaultValue),\n      _useState2 = _slicedToArray(_useState, 2),\n      localValue = _useState2[0],\n      setLocalValue = _useState2[1];\n\n  var onChange = useCallback(function (e) {\n    !isControlled && setLocalValue(e.target.value);\n    props.onChange && props.onChange(e);\n  }, [props.onChange]);\n  return [isControlled ? props.value : localValue, onChange];\n}","map":{"version":3,"sources":["../../src/hooks/useEnsuredControl.ts"],"names":["isControlled","props","localValue","setLocalValue","useState","options","onChange","useCallback","e"],"mappings":";AAAA,SAAA,QAAA,EAAA,WAAA,QAAA,OAAA;AAEA,OAAO,SAAA,iBAAA,CAAA,KAAA,EAAA,OAAA,EAGe;AACpB,MAAMA,YAAY,GAAGC,KAAK,CAALA,cAAAA,CAArB,OAAqBA,CAArB;;AADoB,MAAA,SAAA,GAEgBG,QAAQ,CAACC,OAAO,CAFhC,YAEwB,CAFxB;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MAEbH,UAFa,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAEDC,aAFC,GAAA,UAAA,CAAA,CAAA,CAAA;;AAGpB,MAAMG,QAAQ,GAAGC,WAAW,CAAC,UAAA,CAAA,EAAO;AAClC,KAAA,YAAA,IAAiBJ,aAAa,CAACK,CAAC,CAADA,MAAAA,CAA/B,KAA8B,CAA9B;AACAP,IAAAA,KAAK,CAALA,QAAAA,IAAkBA,KAAK,CAALA,QAAAA,CAAlBA,CAAkBA,CAAlBA;AAF0B,GAAA,EAGzB,CAACA,KAAK,CAHT,QAGG,CAHyB,CAA5B;AAIA,SAAO,CAACD,YAAY,GAAGC,KAAK,CAAR,KAAA,GAAb,UAAA,EAAP,QAAO,CAAP;AACD","sourcesContent":["import { useState, useCallback } from 'react';\n\nexport function useEnsuredControl<V, E>(\n  props: { value?: V; onChange?: (e: E) => any },\n  options: { defaultValue: V },\n): [V, (e: E) => any] {\n  const isControlled = props.hasOwnProperty('value');\n  const [localValue, setLocalValue] = useState(options.defaultValue);\n  const onChange = useCallback((e) => {\n    !isControlled && setLocalValue(e.target.value);\n    props.onChange && props.onChange(e);\n  }, [props.onChange]);\n  return [isControlled ? props.value : localValue, onChange];\n}\n"]},"metadata":{},"sourceType":"module"}