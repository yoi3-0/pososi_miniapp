{"ast":null,"code":"/* eslint-disable */\nimport { canUseDOM } from \"./dom\";\n\nif (canUseDOM) {\n  var ElementProto = Element.prototype; // Element.prototype.matches\n\n  if (!ElementProto.matches) {\n    ElementProto.matches = ElementProto.matchesSelector || ElementProto.webkitMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.msMatchesSelector;\n  } // Element.prototype.closest\n\n\n  if (!ElementProto.closest) {\n    ElementProto.closest = function (css) {\n      var node = this;\n\n      while (node) {\n        if (node.matches(css)) {\n          return node;\n        } else {\n          node = node.parentElement;\n        }\n      }\n\n      return null;\n    };\n  }\n} // Array.prototype.includes\n\n\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function value(searchElement, fromIndex) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this);\n      var len = o.length >>> 0;\n\n      if (len === 0) {\n        return false;\n      }\n\n      var n = fromIndex | 0;\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      function sameValueZero(x, y) {\n        return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n      }\n\n      while (k < len) {\n        if (sameValueZero(o[k], searchElement)) {\n          return true;\n        }\n\n        k++;\n      }\n\n      return false;\n    }\n  });\n} // Array.prototype.find\n\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value: function value(callback) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      } else if (typeof callback !== 'function') {\n        throw new TypeError('callback must be a function');\n      }\n\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n\n      for (var i = 0; i < length; i++) {\n        var element = list[i];\n\n        if (callback.call(thisArg, element, i, list)) {\n          return element;\n        }\n      }\n    }\n  });\n}","map":{"version":3,"sources":["../../src/lib/polyfills.ts"],"names":["ElementProto","Element","node","Array","Object","value","o","len","n","fromIndex","k","Math","x","isNaN","sameValueZero","list","length","thisArg","arguments","i","element","callback"],"mappings":"AAAA;AACA,SAAA,SAAA,QAAA,OAAA;;AAUA,IAAA,SAAA,EAAe;AACb,MAAMA,YAAY,GAAGC,OAAO,CADf,SACb,CADa,CAGb;;AACA,MAAI,CAACD,YAAY,CAAjB,OAAA,EAA2B;AACzBA,IAAAA,YAAY,CAAZA,OAAAA,GAAwBA,YAAD,CAAA,eAACA,IACtBA,YAAY,CADS,qBAACA,IAErBA,YAAD,CAFqB,kBAACA,IAGnBA,YAAD,CAHJA,iBAAAA;AALW,GAAA,CAWb;;;AACA,MAAI,CAACA,YAAY,CAAjB,OAAA,EAA2B;AACzBA,IAAAA,YAAY,CAAZA,OAAAA,GAAuB,UAAA,GAAA,EAAsC;AAC3D,UAAIE,IAAa,GAAjB,IAAA;;AACA,aAAA,IAAA,EAAa;AACX,YAAIA,IAAI,CAAJA,OAAAA,CAAJ,GAAIA,CAAJ,EAAuB;AACrB,iBAAA,IAAA;AADF,SAAA,MAEO;AACLA,UAAAA,IAAI,GAAGA,IAAI,CAAXA,aAAAA;AACD;AACF;;AACD,aAAA,IAAA;AATFF,KAAAA;AAWD;EAGH;;;AACA,IAAI,CAACG,KAAK,CAALA,SAAAA,CAAL,QAAA,EAA+B;AAC7BC,EAAAA,MAAM,CAANA,cAAAA,CAAsBD,KAAK,CAA3BC,SAAAA,EAAAA,UAAAA,EAAmD;AACjDC,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,aAAA,EAAA,SAAA,EAAgD;AACrD,UAAI,QAAJ,IAAA,EAAkB;AAChB,cAAM,IAAA,SAAA,CAAN,+BAAM,CAAN;AACD;;AACD,UAAMC,CAAC,GAAGF,MAAM,CAAhB,IAAgB,CAAhB;AACA,UAAMG,GAAG,GAAGD,CAAC,CAADA,MAAAA,KAAZ,CAAA;;AACA,UAAIC,GAAG,KAAP,CAAA,EAAe;AACb,eAAA,KAAA;AACD;;AACD,UAAMC,CAAC,GAAGC,SAAS,GAAnB,CAAA;AACA,UAAIC,CAAC,GAAGC,IAAI,CAAJA,GAAAA,CAASH,CAAC,IAADA,CAAAA,GAAAA,CAAAA,GAAaD,GAAG,GAAGI,IAAI,CAAJA,GAAAA,CAA5BA,CAA4BA,CAA5BA,EAAR,CAAQA,CAAR;;AACA,eAAA,aAAA,CAAA,CAAA,EAAA,CAAA,EAAuC;AACrC,eAAOC,CAAC,KAADA,CAAAA,IAAY,OAAA,CAAA,KAAA,QAAA,IAAyB,OAAA,CAAA,KAAzB,QAAA,IAAkDC,KAAK,CAAvD,CAAuD,CAAvD,IAA8DA,KAAK,CAAtF,CAAsF,CAAtF;AACD;;AACD,aAAOH,CAAC,GAAR,GAAA,EAAgB;AACd,YAAII,aAAa,CAACR,CAAC,CAAF,CAAE,CAAF,EAAjB,aAAiB,CAAjB,EAAwC;AACtC,iBAAA,IAAA;AACD;;AACDI,QAAAA,CAAC;AACF;;AACD,aAAA,KAAA;AACD;AAtBgD,GAAnDN;EA0BF;;;AACA,IAAI,CAACD,KAAK,CAALA,SAAAA,CAAL,IAAA,EAA2B;AACzBC,EAAAA,MAAM,CAANA,cAAAA,CAAsBD,KAAK,CAA3BC,SAAAA,EAAAA,MAAAA,EAA+C;AAC7CC,IAAAA,KAAK,EAAE,SAAA,KAAA,CAAA,QAAA,EAAuC;AAC5C,UAAI,SAAJ,IAAA,EAAmB;AACjB,cAAM,IAAA,SAAA,CAAN,kDAAM,CAAN;AADF,OAAA,MAEO,IAAI,OAAA,QAAA,KAAJ,UAAA,EAAoC;AACzC,cAAM,IAAA,SAAA,CAAN,6BAAM,CAAN;AACD;;AAED,UAAIU,IAAI,GAAGX,MAAM,CAAjB,IAAiB,CAAjB;AACA,UAAIY,MAAM,GAAGD,IAAI,CAAJA,MAAAA,KAAb,CAAA;AACA,UAAIE,OAAO,GAAGC,SAAS,CAAvB,CAAuB,CAAvB;;AAEA,WAAK,IAAIC,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,MAAA,EAA4BA,CAA5B,EAAA,EAAiC;AAC/B,YAAIC,OAAO,GAAGL,IAAI,CAAlB,CAAkB,CAAlB;;AACA,YAAIM,QAAQ,CAARA,IAAAA,CAAAA,OAAAA,EAAAA,OAAAA,EAAAA,CAAAA,EAAJ,IAAIA,CAAJ,EAA8C;AAC5C,iBAAA,OAAA;AACD;AACF;AACF;AAlB4C,GAA/CjB;AAoBD","sourcesContent":["/* eslint-disable */\nimport { canUseDOM } from './dom';\n\nexport type MatchesMethod = (css: string) => boolean;\n\nexport interface OldElement extends Element {\n  matchesSelector?: MatchesMethod;\n  mozMatchesSelector?: MatchesMethod;\n  msMatchesSelector?: MatchesMethod;\n}\n\nif (canUseDOM) {\n  const ElementProto = Element.prototype;\n\n  // Element.prototype.matches\n  if (!ElementProto.matches) {\n    ElementProto.matches = (ElementProto as OldElement).matchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      (ElementProto as OldElement).mozMatchesSelector ||\n        (ElementProto as OldElement).msMatchesSelector;\n  }\n\n  // Element.prototype.closest\n  if (!ElementProto.closest) {\n    ElementProto.closest = function(css: string): Element | null {\n      let node: Element = this;\n      while (node) {\n        if (node.matches(css)) {\n          return node;\n        } else {\n          node = node.parentElement;\n        }\n      }\n      return null;\n    };\n  }\n}\n\n// Array.prototype.includes\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function(searchElement: any, fromIndex: number) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n      const o = Object(this);\n      const len = o.length >>> 0;\n      if (len === 0) {\n        return false;\n      }\n      const n = fromIndex | 0;\n      let k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n      function sameValueZero(x: any, y: any) {\n        return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n      }\n      while (k < len) {\n        if (sameValueZero(o[k], searchElement)) {\n          return true;\n        }\n        k++;\n      }\n      return false;\n    }\n  });\n}\n\n// Array.prototype.find\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value: function(callback: Array<any>['find']) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      } else if (typeof callback !== 'function') {\n        throw new TypeError('callback must be a function');\n      }\n\n      let list = Object(this);\n      let length = list.length >>> 0;\n      let thisArg = arguments[1];\n\n      for (let i = 0; i < length; i++) {\n        let element = list[i];\n        if (callback.call(thisArg, element, i, list)) {\n          return element;\n        }\n      }\n    }\n  })\n}\n"]},"metadata":{},"sourceType":"module"}