{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { useEffect } from 'react';\nimport { withAdaptivity, ViewWidth, ViewHeight } from \"../../hoc/withAdaptivity\";\nimport { AppRootPortal } from \"../AppRoot/AppRootPortal\";\nimport { blurActiveElement, useDOM } from \"../../lib/dom\";\nexport var PopoutRootComponent = function PopoutRootComponent(props) {\n  var popout = props.popout,\n      modal = props.modal,\n      viewWidth = props.viewWidth,\n      viewHeight = props.viewHeight,\n      hasMouse = props.hasMouse,\n      children = props.children,\n      getRootRef = props.getRootRef,\n      restProps = _objectWithoutProperties(props, [\"popout\", \"modal\", \"viewWidth\", \"viewHeight\", \"hasMouse\", \"children\", \"getRootRef\"]);\n\n  var _useDOM = useDOM(),\n      document = _useDOM.document;\n\n  var isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n  useEffect(function () {\n    popout && blurActiveElement(document);\n  }, [!!popout]);\n  return createScopedElement(\"div\", _extends({}, restProps, {\n    vkuiClass: \"PopoutRoot\",\n    ref: getRootRef\n  }), children, createScopedElement(AppRootPortal, null, !!popout && createScopedElement(\"div\", {\n    vkuiClass: isDesktop ? 'PopoutRoot--absolute' : 'PopoutRoot__popout'\n  }, popout), !!modal && createScopedElement(\"div\", {\n    vkuiClass: \"PopoutRoot__modal\"\n  }, modal)));\n};\nPopoutRootComponent.displayName = 'PopoutRoot';\nexport var PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true\n});","map":{"version":3,"sources":["../../../src/components/PopoutRoot/PopoutRoot.tsx"],"names":["PopoutRootComponent","popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef","restProps","props","document","useDOM","isDesktop","ViewWidth","ViewHeight","useEffect","blurActiveElement","PopoutRoot","withAdaptivity"],"mappings":";;;AAAA,SAAA,SAAA,QAAA,OAAA;AAEA,SAAA,cAAA,EAAA,SAAA,EAAA,UAAA,QAAA,0BAAA;AACA,SAAA,aAAA,QAAA,0BAAA;AACA,SAAA,iBAAA,EAAA,MAAA,QAAA,eAAA;AAOA,OAAO,IAAMA,mBAAwC,GAAG,SAA3CA,mBAA2C,CAAA,KAAA,EAA4B;AAAA,MAC1EC,MAD0E,GACaQ,KADb,CAAA,MAAA;AAAA,MAClEP,KADkE,GACaO,KADb,CAAA,KAAA;AAAA,MAC3DN,SAD2D,GACaM,KADb,CAAA,SAAA;AAAA,MAChDL,UADgD,GACaK,KADb,CAAA,UAAA;AAAA,MACpCJ,QADoC,GACaI,KADb,CAAA,QAAA;AAAA,MAC1BH,QAD0B,GACaG,KADb,CAAA,QAAA;AAAA,MAChBF,UADgB,GACaE,KADb,CAAA,UAAA;AAAA,MACDD,SADC,GAAA,wBAAA,CAAA,KAAA,EAAA,CAAA,QAAA,EAAA,OAAA,EAAA,WAAA,EAAA,YAAA,EAAA,UAAA,EAAA,UAAA,EAAA,YAAA,CAAA,CAAA;;AAAA,MAAA,OAAA,GAE7DG,MAF6D,EAAA;AAAA,MAE1ED,QAF0E,GAAA,OAAA,CAAA,QAAA;;AAIlF,MAAME,SAAS,GAAGT,SAAS,IAAIU,SAAS,CAAtBV,YAAAA,KAAwCE,QAAQ,IAAID,UAAU,IAAIU,UAAU,CAA9F,MAAkBX,CAAlB;AAEAY,EAAAA,SAAS,CAAC,YAAM;AACdd,IAAAA,MAAM,IAAIe,iBAAiB,CAA3Bf,QAA2B,CAA3BA;AADO,GAAA,EAEN,CAAC,CAAC,CAFLc,MAEG,CAFM,CAATA;AAIA,SACE,mBAAA,CAAA,KAAA,EAAA,QAAA,CAAA,EAAA,EAAA,SAAA,EAAA;AAEE,IAAA,SAAS,EAFX,YAAA;AAGE,IAAA,GAAG,EAAER;AAHP,GAAA,CAAA,EAAA,QAAA,EAME,mBAAA,CAAA,aAAA,EAAA,IAAA,EACG,CAAC,CAAD,MAAA,IAAY,mBAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAEK,SAAS,GAAA,sBAAA,GAA4B;AAArD,GAAA,EADf,MACe,CADf,EAEG,CAAC,CAAD,KAAA,IAAW,mBAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EATlB,KASkB,CAFd,CANF,CADF;AAVK,CAAA;AAyBPZ,mBAAmB,CAAnBA,WAAAA,GAAAA,YAAAA;AAEA,OAAO,IAAMiB,UAAU,GAAGC,cAAc,CAAA,mBAAA,EAAsB;AAC5Df,EAAAA,SAAS,EADmD,IAAA;AAE5DC,EAAAA,UAAU,EAFkD,IAAA;AAG5DC,EAAAA,QAAQ,EAAE;AAHkD,CAAtB,CAAjC","sourcesContent":["import { FC, HTMLAttributes, ReactNode, useEffect } from 'react';\nimport { HasRootRef } from '../../types';\nimport { withAdaptivity, ViewWidth, ViewHeight, AdaptivityProps } from '../../hoc/withAdaptivity';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { blurActiveElement, useDOM } from '../../lib/dom';\n\nexport interface PopoutRootProps extends HTMLAttributes<HTMLDivElement>, AdaptivityProps, HasRootRef<HTMLDivElement> {\n  popout?: ReactNode;\n  modal?: ReactNode;\n}\n\nexport const PopoutRootComponent: FC<PopoutRootProps> = (props: PopoutRootProps) => {\n  const { popout, modal, viewWidth, viewHeight, hasMouse, children, getRootRef, ...restProps } = props;\n  const { document } = useDOM();\n\n  const isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n\n  useEffect(() => {\n    popout && blurActiveElement(document);\n  }, [!!popout]);\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass=\"PopoutRoot\"\n      ref={getRootRef}\n    >\n      {children}\n      <AppRootPortal>\n        {!!popout && <div vkuiClass={isDesktop ? 'PopoutRoot--absolute' : 'PopoutRoot__popout'}>{popout}</div>}\n        {!!modal && <div vkuiClass=\"PopoutRoot__modal\">{modal}</div>}\n      </AppRootPortal>\n    </div>\n  );\n};\n\nPopoutRootComponent.displayName = 'PopoutRoot';\n\nexport const PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true,\n});\n"]},"metadata":{},"sourceType":"module"}