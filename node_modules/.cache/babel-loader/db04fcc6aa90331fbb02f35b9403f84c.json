{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { Children } from 'react';\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { ANDROID, IOS, VKCOM } from \"../../lib/platform\";\nimport { Icon24Chevron, Icon24DismissSubstract, Icon24DismissDark, Icon24Cancel } from '@vkontakte/icons';\nimport Tappable from \"../Tappable/Tappable\";\nimport IconButton from \"../IconButton/IconButton\";\nimport Headline from \"../Typography/Headline/Headline\";\nimport Caption from \"../Typography/Caption/Caption\";\nimport Text from \"../Typography/Text/Text\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport Title from \"../Typography/Title/Title\";\n\nvar BannerHeader = function BannerHeader(_ref) {\n  var size = _ref.size,\n      restProps = _objectWithoutProperties(_ref, [\"size\"]);\n\n  return size === 'm' ? createScopedElement(Title, _extends({\n    level: \"2\",\n    weight: \"medium\"\n  }, restProps)) : createScopedElement(Headline, _extends({\n    weight: \"medium\"\n  }, restProps));\n};\n\nvar BannerSubheader = function BannerSubheader(_ref2) {\n  var size = _ref2.size,\n      restProps = _objectWithoutProperties(_ref2, [\"size\"]);\n\n  return size === 'm' ? createScopedElement(Text, _extends({\n    weight: \"regular\"\n  }, restProps)) : createScopedElement(Caption, _extends({\n    level: \"1\",\n    weight: \"regular\"\n  }, restProps));\n};\n\nvar Banner = function Banner(props) {\n  var platform = usePlatform();\n\n  var mode = props.mode,\n      imageTheme = props.imageTheme,\n      size = props.size,\n      before = props.before,\n      asideMode = props.asideMode,\n      header = props.header,\n      subheader = props.subheader,\n      text = props.text,\n      children = props.children,\n      background = props.background,\n      actions = props.actions,\n      onDismiss = props.onDismiss,\n      dismissLabel = props.dismissLabel,\n      restProps = _objectWithoutProperties(props, [\"mode\", \"imageTheme\", \"size\", \"before\", \"asideMode\", \"header\", \"subheader\", \"text\", \"children\", \"background\", \"actions\", \"onDismiss\", \"dismissLabel\"]);\n\n  return createScopedElement(\"section\", _extends({}, restProps, {\n    vkuiClass: classNames(getClassName('Banner', platform), \"Banner--md-\".concat(mode), \"Banner--sz-\".concat(size), {\n      'Banner--inverted': mode === 'image' && imageTheme === 'dark'\n    })\n  }), createScopedElement(Tappable, {\n    Component: \"div\",\n    vkuiClass: \"Banner__in\",\n    activeMode: platform === IOS ? 'opacity' : 'background',\n    disabled: asideMode !== 'expand',\n    role: asideMode === 'expand' ? 'button' : null\n  }, mode === 'image' && background && createScopedElement(\"div\", {\n    \"aria-hidden\": \"true\",\n    vkuiClass: \"Banner__bg\"\n  }, background), before && createScopedElement(\"div\", {\n    vkuiClass: \"Banner__before\"\n  }, before), createScopedElement(\"div\", {\n    vkuiClass: \"Banner__content\"\n  }, hasReactNode(header) && createScopedElement(BannerHeader, {\n    size: size,\n    Component: \"h2\",\n    vkuiClass: \"Banner__header\"\n  }, header), hasReactNode(subheader) && createScopedElement(BannerSubheader, {\n    size: size,\n    vkuiClass: \"Banner__subheader\"\n  }, subheader), hasReactNode(text) && createScopedElement(Text, {\n    weight: \"regular\",\n    vkuiClass: \"Banner__text\"\n  }, text), hasReactNode(actions) && Children.count(actions) > 0 && createScopedElement(\"div\", {\n    vkuiClass: \"Banner__actions\"\n  }, actions)), !!asideMode && createScopedElement(\"div\", {\n    vkuiClass: \"Banner__aside Banner__aside--\".concat(asideMode)\n  }, asideMode === 'expand' && createScopedElement(Icon24Chevron, null), asideMode === 'dismiss' && createScopedElement(IconButton, {\n    \"aria-label\": dismissLabel,\n    vkuiClass: \"Banner__dismiss\",\n    onClick: onDismiss,\n    hoverMode: \"opacity\",\n    hasActive: false\n  }, (platform === ANDROID || platform === VKCOM) && createScopedElement(Icon24Cancel, null), platform === IOS && (mode === 'image' ? createScopedElement(Icon24DismissDark, null) : createScopedElement(Icon24DismissSubstract, null))))));\n};\n\nBanner.defaultProps = {\n  dismissLabel: 'Скрыть',\n  mode: 'tint',\n  size: 's',\n  imageTheme: 'dark'\n};\nexport default Banner;","map":{"version":3,"sources":["../../../src/components/Banner/Banner.tsx"],"names":["BannerHeader","size","restProps","BannerSubheader","Banner","platform","usePlatform","mode","imageTheme","before","asideMode","header","subheader","text","children","background","actions","onDismiss","dismissLabel","props","classNames","getClassName","hasReactNode","Children"],"mappings":";;;AAAA,SAAA,QAAA,QAAA,OAAA;AACA,SAAA,YAAA,QAAA,4BAAA;AACA,SAAA,UAAA,QAAA,sBAAA;AACA,SAAA,WAAA,QAAA,yBAAA;AACA,SAAA,OAAA,EAAA,GAAA,EAAA,KAAA,QAAA,oBAAA;AACA,SAAA,aAAA,EAAA,sBAAA,EAAA,iBAAA,EAAA,YAAA,QAAA,kBAAA;AACA,OAAA,QAAA,MAAA,sBAAA;AACA,OAAA,UAAA,MAAA,0BAAA;AACA,OAAA,QAAA,MAAA,iCAAA;AACA,OAAA,OAAA,MAAA,+BAAA;AACA,OAAA,IAAA,MAAA,yBAAA;AACA,SAAA,YAAA,QAAA,iBAAA;AACA,OAAA,KAAA,MAAA,2BAAA;;AAoEA,IAAMA,YAAuC,GAAG,SAA1CA,YAA0C,CAAA,IAAA,EAAmD;AAAA,MAAhDC,IAAgD,GAAA,IAAA,CAAhDA,IAAgD;AAAA,MAAvCC,SAAuC,GAAA,wBAAA,CAAA,IAAA,EAAA,CAAA,MAAA,CAAA,CAAA;;AACjG,SAAOD,IAAI,KAAJA,GAAAA,GACH,mBAAA,CAAA,KAAA,EAAA,QAAA,CAAA;AAAO,IAAA,KAAK,EAAZ,GAAA;AAAiB,IAAA,MAAM,EAAC;AAAxB,GAAA,EADGA,SACH,CAAA,CADGA,GAEH,mBAAA,CAAA,QAAA,EAAA,QAAA,CAAA;AAAU,IAAA,MAAM,EAAC;AAAjB,GAAA,EAFJ,SAEI,CAAA,CAFJ;AADF,CAAA;;AAMA,IAAME,eAA0C,GAAG,SAA7CA,eAA6C,CAAA,KAAA,EAAmD;AAAA,MAAhDF,IAAgD,GAAA,KAAA,CAAhDA,IAAgD;AAAA,MAAvCC,SAAuC,GAAA,wBAAA,CAAA,KAAA,EAAA,CAAA,MAAA,CAAA,CAAA;;AACpG,SAAOD,IAAI,KAAJA,GAAAA,GACH,mBAAA,CAAA,IAAA,EAAA,QAAA,CAAA;AAAM,IAAA,MAAM,EAAC;AAAb,GAAA,EADGA,SACH,CAAA,CADGA,GAEH,mBAAA,CAAA,OAAA,EAAA,QAAA,CAAA;AAAS,IAAA,KAAK,EAAd,GAAA;AAAmB,IAAA,MAAM,EAAC;AAA1B,GAAA,EAFJ,SAEI,CAAA,CAFJ;AADF,CAAA;;AAMA,IAAMG,MAAuB,GAAG,SAA1BA,MAA0B,CAAA,KAAA,EAAwB;AACtD,MAAMC,QAAQ,GAAGC,WAAjB,EAAA;;AADsD,MAGpDC,IAHoD,GAMlDY,KANkD,CAAA,IAAA;AAAA,MAG9CX,UAH8C,GAMlDW,KANkD,CAAA,UAAA;AAAA,MAGlClB,IAHkC,GAMlDkB,KANkD,CAAA,IAAA;AAAA,MAG5BV,MAH4B,GAMlDU,KANkD,CAAA,MAAA;AAAA,MAGpBT,SAHoB,GAMlDS,KANkD,CAAA,SAAA;AAAA,MAGTR,MAHS,GAMlDQ,KANkD,CAAA,MAAA;AAAA,MAGDP,SAHC,GAMlDO,KANkD,CAAA,SAAA;AAAA,MAGUN,IAHV,GAMlDM,KANkD,CAAA,IAAA;AAAA,MAGgBL,QAHhB,GAMlDK,KANkD,CAAA,QAAA;AAAA,MAG0BJ,UAH1B,GAMlDI,KANkD,CAAA,UAAA;AAAA,MAGsCH,OAHtC,GAMlDG,KANkD,CAAA,OAAA;AAAA,MAIpDF,SAJoD,GAMlDE,KANkD,CAAA,SAAA;AAAA,MAIzCD,YAJyC,GAMlDC,KANkD,CAAA,YAAA;AAAA,MAKjDjB,SALiD,GAAA,wBAAA,CAAA,KAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,MAAA,EAAA,QAAA,EAAA,WAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,UAAA,EAAA,YAAA,EAAA,SAAA,EAAA,WAAA,EAAA,cAAA,CAAA,CAAA;;AAQtD,SACE,mBAAA,CAAA,SAAA,EAAA,QAAA,CAAA,EAAA,EAAA,SAAA,EAAA;AAEE,IAAA,SAAS,EAAEkB,UAAU,CACnBC,YAAY,CAAA,QAAA,EADO,QACP,CADO,EAAA,cAAA,MAAA,CAAA,IAAA,CAAA,EAAA,cAAA,MAAA,CAAA,IAAA,CAAA,EAInB;AACE,0BAAoBd,IAAI,KAAJA,OAAAA,IAAoBC,UAAU,KAAK;AADzD,KAJmB;AAFvB,GAAA,CAAA,EAWE,mBAAA,CAAA,QAAA,EAAA;AACE,IAAA,SAAS,EADX,KAAA;AAEE,IAAA,SAAS,EAFX,YAAA;AAGE,IAAA,UAAU,EAAEH,QAAQ,KAARA,GAAAA,GAAAA,SAAAA,GAHd,YAAA;AAIE,IAAA,QAAQ,EAAEK,SAAS,KAJrB,QAAA;AAKE,IAAA,IAAI,EAAEA,SAAS,KAATA,QAAAA,GAAAA,QAAAA,GAAoC;AAL5C,GAAA,EAOGH,IAAI,KAAJA,OAAAA,IAAAA,UAAAA,IACC,mBAAA,CAAA,KAAA,EAAA;AAAK,mBAAL,MAAA;AAAwB,IAAA,SAAS,EAAC;AAAlC,GAAA,EARJ,UAQI,CARJ,EAaGE,MAAM,IAAI,mBAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EAbb,MAaa,CAbb,EAeE,mBAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EACGa,YAAY,CAAZA,MAAY,CAAZA,IACC,mBAAA,CAAA,YAAA,EAAA;AAAc,IAAA,IAAI,EAAlB,IAAA;AAA0B,IAAA,SAAS,EAAnC,IAAA;AAAyC,IAAA,SAAS,EAAC;AAAnD,GAAA,EAFJ,MAEI,CAFJ,EAIGA,YAAY,CAAZA,SAAY,CAAZA,IACC,mBAAA,CAAA,eAAA,EAAA;AAAiB,IAAA,IAAI,EAArB,IAAA;AAA6B,IAAA,SAAS,EAAC;AAAvC,GAAA,EALJ,SAKI,CALJ,EAOGA,YAAY,CAAZA,IAAY,CAAZA,IAAsB,mBAAA,CAAA,IAAA,EAAA;AAAM,IAAA,MAAM,EAAZ,SAAA;AAAuB,IAAA,SAAS,EAAC;AAAjC,GAAA,EAPzB,IAOyB,CAPzB,EAQGA,YAAY,CAAZA,OAAY,CAAZA,IAAyBC,QAAQ,CAARA,KAAAA,CAAAA,OAAAA,IAAzBD,CAAAA,IACC,mBAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EAxBN,OAwBM,CATJ,CAfF,EA4BG,CAAC,CAAD,SAAA,IACC,mBAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAA,gCAAA,MAAA,CAAA,SAAA;AAAd,GAAA,EACGZ,SAAS,KAATA,QAAAA,IAA0B,mBAAA,CAAA,aAAA,EAD7B,IAC6B,CAD7B,EAGGA,SAAS,KAATA,SAAAA,IACC,mBAAA,CAAA,UAAA,EAAA;AACE,kBADF,YAAA;AAEE,IAAA,SAAS,EAFX,iBAAA;AAGE,IAAA,OAAO,EAHT,SAAA;AAIE,IAAA,SAAS,EAJX,SAAA;AAKE,IAAA,SAAS,EAAE;AALb,GAAA,EAOG,CAACL,QAAQ,KAARA,OAAAA,IAAwBA,QAAQ,KAAjC,KAAA,KAAgD,mBAAA,CAAA,YAAA,EAPnD,IAOmD,CAPnD,EAQGA,QAAQ,KAARA,GAAAA,KAAqBE,IAAI,KAAJA,OAAAA,GAAmB,mBAAA,CAAA,iBAAA,EAAnBA,IAAmB,CAAnBA,GAA2C,mBAAA,CAAA,sBAAA,EArD/E,IAqD+E,CAAhEF,CARH,CAJJ,CA7BJ,CAXF,CADF;AARF,CAAA;;AAuEAD,MAAM,CAANA,YAAAA,GAAsB;AACpBc,EAAAA,YAAY,EADQ,QAAA;AAEpBX,EAAAA,IAAI,EAFgB,MAAA;AAGpBN,EAAAA,IAAI,EAHgB,GAAA;AAIpBO,EAAAA,UAAU,EAAE;AAJQ,CAAtBJ;AAOA,eAAA,MAAA","sourcesContent":["import { Children, FC, ReactNode, HTMLAttributes, MouseEventHandler, ElementType } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { ANDROID, IOS, VKCOM } from '../../lib/platform';\nimport { Icon24Chevron, Icon24DismissSubstract, Icon24DismissDark, Icon24Cancel } from '@vkontakte/icons';\nimport Tappable from '../Tappable/Tappable';\nimport IconButton from '../IconButton/IconButton';\nimport Headline from '../Typography/Headline/Headline';\nimport Caption from '../Typography/Caption/Caption';\nimport Text from '../Typography/Text/Text';\nimport { hasReactNode } from '../../lib/utils';\nimport Title from '../Typography/Title/Title';\n\nexport interface BannerProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * Тип баннера.\n   */\n  mode?: 'tint' | 'image';\n  size?: 's' | 'm';\n  /**\n   * Тип действия в правой части баннера.\n   *\n   * - `dismiss` – отображается иконка крестика, при клике на неё сработает свойство `onDismiss`.\n   * - `expand` – отображается иконка шеврона, которая подразумевает, что при клике на баннер можно куда-то перейти.\n   */\n  asideMode?: 'dismiss' | 'expand';\n  /**\n   * Срабатывает при клике на иконку крестика при `asideMode=\"dismiss\"`.\n   */\n  onDismiss?: MouseEventHandler<HTMLButtonElement>;\n  /**\n   * `aria-label` для кнопки при `asideMode=\"dismiss\". Необходим, чтобы кнопка была доступной.\n   */\n  dismissLabel?: string;\n  /**\n   * Содержимое, отображаемое в левой части баннера.\n   */\n  before?: ReactNode;\n  /**\n   * Заголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  header?: ReactNode;\n  /**\n   * Подзаголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  subheader?: ReactNode;\n  /**\n   * Текст баннера. <br />\n   * Это свойство следует использовать без указания `header` и `subheader`.\n   */\n  text?: ReactNode;\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * - `light` – в качестве фона используется светлое изображение, цвет текста в баннере будет тёмным.\n   * - `dark` – в качестве фона используется тёмное изображение, цвет текста будет светлым.\n   */\n  imageTheme?: 'light' | 'dark';\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * Элемент, который нужно стилизовать цветом и/или фоном. Этот элемент будет растянут на 100% ширины и высоты баннера.\n   */\n  background?: ReactNode;\n  /**\n   * Кнопки, отображаемые в баннере.\n   *\n   * - В режиме `tint` или в `image` со светлым фоном рекомендуется использовать только `<Button mode=\"primary\" />` или `<Button mode=\"tertiary\" hasHover={false} />`.\n   * - В режиме `image` с тёмным фоном – `<Button mode=\"overlay_primary\" />`.\n   */\n  actions?: ReactNode;\n}\n\ninterface BannerTypographyProps extends Pick<BannerProps, 'size'> {\n  Component?: ElementType;\n}\n\nconst BannerHeader: FC<BannerTypographyProps> = ({ size, ...restProps }: BannerTypographyProps) => {\n  return size === 'm'\n    ? <Title level=\"2\" weight=\"medium\" {...restProps} />\n    : <Headline weight=\"medium\" {...restProps} />;\n};\n\nconst BannerSubheader: FC<BannerTypographyProps> = ({ size, ...restProps }: BannerTypographyProps) => {\n  return size === 'm'\n    ? <Text weight=\"regular\" {...restProps} />\n    : <Caption level=\"1\" weight=\"regular\" {...restProps} />;\n};\n\nconst Banner: FC<BannerProps> = (props: BannerProps) => {\n  const platform = usePlatform();\n  const {\n    mode, imageTheme, size, before, asideMode, header, subheader, text, children, background, actions,\n    onDismiss, dismissLabel,\n    ...restProps\n  } = props;\n\n  return (\n    <section\n      {...restProps}\n      vkuiClass={classNames(\n        getClassName('Banner', platform),\n        `Banner--md-${mode}`,\n        `Banner--sz-${size}`,\n        {\n          'Banner--inverted': mode === 'image' && imageTheme === 'dark',\n        },\n      )}\n    >\n      <Tappable\n        Component=\"div\"\n        vkuiClass=\"Banner__in\"\n        activeMode={platform === IOS ? 'opacity' : 'background'}\n        disabled={asideMode !== 'expand'}\n        role={asideMode === 'expand' ? 'button' : null}\n      >\n        {mode === 'image' && background &&\n          <div aria-hidden=\"true\" vkuiClass=\"Banner__bg\">\n            {background}\n          </div>\n        }\n\n        {before && <div vkuiClass=\"Banner__before\">{before}</div>}\n\n        <div vkuiClass=\"Banner__content\">\n          {hasReactNode(header) && (\n            <BannerHeader size={size} Component=\"h2\" vkuiClass=\"Banner__header\">{header}</BannerHeader>\n          )}\n          {hasReactNode(subheader) && (\n            <BannerSubheader size={size} vkuiClass=\"Banner__subheader\">{subheader}</BannerSubheader>\n          )}\n          {hasReactNode(text) && <Text weight=\"regular\" vkuiClass=\"Banner__text\">{text}</Text>}\n          {hasReactNode(actions) && Children.count(actions) > 0 && (\n            <div vkuiClass=\"Banner__actions\">{actions}</div>\n          )}\n        </div>\n\n        {!!asideMode && (\n          <div vkuiClass={`Banner__aside Banner__aside--${asideMode}`}>\n            {asideMode === 'expand' && <Icon24Chevron />}\n\n            {asideMode === 'dismiss' &&\n              <IconButton\n                aria-label={dismissLabel}\n                vkuiClass=\"Banner__dismiss\"\n                onClick={onDismiss}\n                hoverMode=\"opacity\"\n                hasActive={false}\n              >\n                {(platform === ANDROID || platform === VKCOM) && <Icon24Cancel />}\n                {platform === IOS && (mode === 'image' ? <Icon24DismissDark /> : <Icon24DismissSubstract />)}\n              </IconButton>\n            }\n          </div>\n        )}\n      </Tappable>\n    </section>\n  );\n};\n\nBanner.defaultProps = {\n  dismissLabel: 'Скрыть',\n  mode: 'tint',\n  size: 's',\n  imageTheme: 'dark',\n};\n\nexport default Banner;\n"]},"metadata":{},"sourceType":"module"}