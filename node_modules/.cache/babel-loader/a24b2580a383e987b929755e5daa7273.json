{"ast":null,"code":"var _jsxFileName = \"/Users/yoi3/Desktop/pososi/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\nimport { Icon28NewsfeedOutline, Icon28ServicesOutline } from \"@vkontakte/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [activePanel, setActivePanel] = useState('profile');\n  const [fetchedUser, setUser] = useState(null);\n  const [activeStory, setActiveStory] = React.useState('profile');\n  const [popout, setPopout] = useState( /*#__PURE__*/_jsxDEV(ScreenSpinner, {\n    size: \"large\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 39\n  }, this));\n\n  const onStoryChange = e => {\n    setActiveStory(e.currentTarget.dataset.story);\n    setActivePanel(e.currentTarget.dataset.story);\n  };\n\n  useEffect(() => {\n    bridge.subscribe(({\n      detail: {\n        type,\n        data\n      }\n    }) => {\n      if (type === 'VKWebAppUpdateConfig') {\n        const schemeAttribute = document.createAttribute('scheme');\n        schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n\n    async function fetchData() {\n      const user = await bridge.send('VKWebAppGetUserInfo');\n      setUser(user);\n      setPopout(null);\n    }\n\n    fetchData();\n  }, []);\n\n  const go = e => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AdaptivityProvider, {\n    children: /*#__PURE__*/_jsxDEV(AppRoot, {\n      children: /*#__PURE__*/_jsxDEV(Epic, {\n        activeStory: activeStory,\n        tabbar: /*#__PURE__*/_jsxDEV(Tabbar, {\n          children: [/*#__PURE__*/_jsxDEV(TabbarItem, {\n            onClick: onStoryChange,\n            selected: activeStory === 'persik',\n            \"data-story\": \"persik\",\n            text: \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\",\n            children: /*#__PURE__*/_jsxDEV(Icon28NewsfeedOutline, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(TabbarItem, {\n            onClick: onStoryChange,\n            selected: activeStory === 'profile',\n            \"data-story\": \"profile\",\n            text: \"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441\\u044B\",\n            children: /*#__PURE__*/_jsxDEV(Icon28ServicesOutline, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 5\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(View, {\n          activePanel: activePanel,\n          popout: popout,\n          children: [/*#__PURE__*/_jsxDEV(Home, {\n            id: \"profile\",\n            fetchedUser: fetchedUser,\n            go: go\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(Persik, {\n            id: \"persik\",\n            go: go\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }, this);\n};\n\n_s(App, \"TO/BSE43P/4VrtciUTErMNB8Dw8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/yoi3/Desktop/pososi/src/App.js"],"names":["React","useState","useEffect","bridge","View","ScreenSpinner","AdaptivityProvider","AppRoot","Epic","Tabbar","TabbarItem","Home","Persik","Icon28NewsfeedOutline","Icon28ServicesOutline","App","activePanel","setActivePanel","fetchedUser","setUser","activeStory","setActiveStory","popout","setPopout","onStoryChange","e","currentTarget","dataset","story","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","user","send","go","to"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport {View, ScreenSpinner, AdaptivityProvider, AppRoot, Epic, Tabbar, TabbarItem} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\nimport {Icon28NewsfeedOutline, Icon28ServicesOutline} from \"@vkontakte/icons\";\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('profile');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [activeStory, setActiveStory] = React.useState('profile');\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tconst onStoryChange = (e) => {\n\t\tsetActiveStory(e.currentTarget.dataset.story)\n\t\tsetActivePanel(e.currentTarget.dataset.story)\n\t};\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<Epic activeStory={activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\tselected={activeStory === 'persik'}\n\t\t\t\t\t\tdata-story=\"persik\"\n\t\t\t\t\t\ttext=\"Новости\"\n\t\t\t\t\t><Icon28NewsfeedOutline /></TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={onStoryChange}\n\t\t\t\t\t\tselected={activeStory === 'profile'}\n\t\t\t\t\t\tdata-story=\"profile\"\n\t\t\t\t\t\ttext=\"Сервисы\"\n\t\t\t\t\t><Icon28ServicesOutline/></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t\t}>\n\t\t\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t\t\t<Home id='profile' fetchedUser={fetchedUser} go={go} />\n\t\t\t\t\t<Persik id='persik' go={go} />\n\t\t\t\t</View>\n\t\t\t\t</Epic>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}